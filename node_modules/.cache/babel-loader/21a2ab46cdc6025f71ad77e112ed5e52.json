{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tag = exports.Label = void 0;\n\nconst Factory_1 = require(\"../Factory\");\n\nconst Shape_1 = require(\"../Shape\");\n\nconst Group_1 = require(\"../Group\");\n\nconst Validators_1 = require(\"../Validators\");\n\nconst Global_1 = require(\"../Global\");\n\nvar ATTR_CHANGE_LIST = ['fontFamily', 'fontSize', 'fontStyle', 'padding', 'lineHeight', 'text', 'width', 'height', 'pointerDirection', 'pointerWidth', 'pointerHeight'],\n    CHANGE_KONVA = 'Change.konva',\n    NONE = 'none',\n    UP = 'up',\n    RIGHT = 'right',\n    DOWN = 'down',\n    LEFT = 'left',\n    attrChangeListLen = ATTR_CHANGE_LIST.length;\n\nclass Label extends Group_1.Group {\n  constructor(config) {\n    super(config);\n    this.on('add.konva', function (evt) {\n      this._addListeners(evt.child);\n\n      this._sync();\n    });\n  }\n\n  getText() {\n    return this.find('Text')[0];\n  }\n\n  getTag() {\n    return this.find('Tag')[0];\n  }\n\n  _addListeners(text) {\n    var that = this,\n        n;\n\n    var func = function () {\n      that._sync();\n    };\n\n    for (n = 0; n < attrChangeListLen; n++) {\n      text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n    }\n  }\n\n  getWidth() {\n    return this.getText().width();\n  }\n\n  getHeight() {\n    return this.getText().height();\n  }\n\n  _sync() {\n    var text = this.getText(),\n        tag = this.getTag(),\n        width,\n        height,\n        pointerDirection,\n        pointerWidth,\n        x,\n        y,\n        pointerHeight;\n\n    if (text && tag) {\n      width = text.width();\n      height = text.height();\n      pointerDirection = tag.pointerDirection();\n      pointerWidth = tag.pointerWidth();\n      pointerHeight = tag.pointerHeight();\n      x = 0;\n      y = 0;\n\n      switch (pointerDirection) {\n        case UP:\n          x = width / 2;\n          y = -1 * pointerHeight;\n          break;\n\n        case RIGHT:\n          x = width + pointerWidth;\n          y = height / 2;\n          break;\n\n        case DOWN:\n          x = width / 2;\n          y = height + pointerHeight;\n          break;\n\n        case LEFT:\n          x = -1 * pointerWidth;\n          y = height / 2;\n          break;\n      }\n\n      tag.setAttrs({\n        x: -1 * x,\n        y: -1 * y,\n        width: width,\n        height: height\n      });\n      text.setAttrs({\n        x: -1 * x,\n        y: -1 * y\n      });\n    }\n  }\n\n}\n\nexports.Label = Label;\nLabel.prototype.className = 'Label';\n(0, Global_1._registerNode)(Label);\n\nclass Tag extends Shape_1.Shape {\n  _sceneFunc(context) {\n    var width = this.width(),\n        height = this.height(),\n        pointerDirection = this.pointerDirection(),\n        pointerWidth = this.pointerWidth(),\n        pointerHeight = this.pointerHeight(),\n        cornerRadius = this.cornerRadius();\n    let topLeft = 0;\n    let topRight = 0;\n    let bottomLeft = 0;\n    let bottomRight = 0;\n\n    if (typeof cornerRadius === 'number') {\n      topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n    } else {\n      topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n      topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n      bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n      bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n    }\n\n    context.beginPath();\n    context.moveTo(topLeft, 0);\n\n    if (pointerDirection === UP) {\n      context.lineTo((width - pointerWidth) / 2, 0);\n      context.lineTo(width / 2, -1 * pointerHeight);\n      context.lineTo((width + pointerWidth) / 2, 0);\n    }\n\n    context.lineTo(width - topRight, 0);\n    context.arc(width - topRight, topRight, topRight, Math.PI * 3 / 2, 0, false);\n\n    if (pointerDirection === RIGHT) {\n      context.lineTo(width, (height - pointerHeight) / 2);\n      context.lineTo(width + pointerWidth, height / 2);\n      context.lineTo(width, (height + pointerHeight) / 2);\n    }\n\n    context.lineTo(width, height - bottomRight);\n    context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n\n    if (pointerDirection === DOWN) {\n      context.lineTo((width + pointerWidth) / 2, height);\n      context.lineTo(width / 2, height + pointerHeight);\n      context.lineTo((width - pointerWidth) / 2, height);\n    }\n\n    context.lineTo(bottomLeft, height);\n    context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n\n    if (pointerDirection === LEFT) {\n      context.lineTo(0, (height + pointerHeight) / 2);\n      context.lineTo(-1 * pointerWidth, height / 2);\n      context.lineTo(0, (height - pointerHeight) / 2);\n    }\n\n    context.lineTo(0, topLeft);\n    context.arc(topLeft, topLeft, topLeft, Math.PI, Math.PI * 3 / 2, false);\n    context.closePath();\n    context.fillStrokeShape(this);\n  }\n\n  getSelfRect() {\n    var x = 0,\n        y = 0,\n        pointerWidth = this.pointerWidth(),\n        pointerHeight = this.pointerHeight(),\n        direction = this.pointerDirection(),\n        width = this.width(),\n        height = this.height();\n\n    if (direction === UP) {\n      y -= pointerHeight;\n      height += pointerHeight;\n    } else if (direction === DOWN) {\n      height += pointerHeight;\n    } else if (direction === LEFT) {\n      x -= pointerWidth * 1.5;\n      width += pointerWidth;\n    } else if (direction === RIGHT) {\n      width += pointerWidth * 1.5;\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  }\n\n}\n\nexports.Tag = Tag;\nTag.prototype.className = 'Tag';\n(0, Global_1._registerNode)(Tag);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerWidth', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Tag, 'pointerHeight', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Tag, 'cornerRadius', 0, (0, Validators_1.getNumberOrArrayOfNumbersValidator)(4));","map":{"version":3,"names":["Object","defineProperty","exports","value","Tag","Label","Factory_1","require","Shape_1","Group_1","Validators_1","Global_1","ATTR_CHANGE_LIST","CHANGE_KONVA","NONE","UP","RIGHT","DOWN","LEFT","attrChangeListLen","length","Group","constructor","config","on","evt","_addListeners","child","_sync","getText","find","getTag","text","that","n","func","getWidth","width","getHeight","height","tag","pointerDirection","pointerWidth","x","y","pointerHeight","setAttrs","prototype","className","_registerNode","Shape","_sceneFunc","context","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","Math","min","beginPath","moveTo","lineTo","arc","PI","closePath","fillStrokeShape","getSelfRect","direction","Factory","addGetterSetter","getNumberValidator","getNumberOrArrayOfNumbersValidator"],"sources":["D:/screenshort-extension/image-editor-react/node_modules/konva/lib/shapes/Label.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tag = exports.Label = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Group_1 = require(\"../Group\");\nconst Validators_1 = require(\"../Validators\");\nconst Global_1 = require(\"../Global\");\nvar ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'padding',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'pointerDirection',\n    'pointerWidth',\n    'pointerHeight',\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\nclass Label extends Group_1.Group {\n    constructor(config) {\n        super(config);\n        this.on('add.konva', function (evt) {\n            this._addListeners(evt.child);\n            this._sync();\n        });\n    }\n    getText() {\n        return this.find('Text')[0];\n    }\n    getTag() {\n        return this.find('Tag')[0];\n    }\n    _addListeners(text) {\n        var that = this, n;\n        var func = function () {\n            that._sync();\n        };\n        for (n = 0; n < attrChangeListLen; n++) {\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n        }\n    }\n    getWidth() {\n        return this.getText().width();\n    }\n    getHeight() {\n        return this.getText().height();\n    }\n    _sync() {\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\n        if (text && tag) {\n            width = text.width();\n            height = text.height();\n            pointerDirection = tag.pointerDirection();\n            pointerWidth = tag.pointerWidth();\n            pointerHeight = tag.pointerHeight();\n            x = 0;\n            y = 0;\n            switch (pointerDirection) {\n                case UP:\n                    x = width / 2;\n                    y = -1 * pointerHeight;\n                    break;\n                case RIGHT:\n                    x = width + pointerWidth;\n                    y = height / 2;\n                    break;\n                case DOWN:\n                    x = width / 2;\n                    y = height + pointerHeight;\n                    break;\n                case LEFT:\n                    x = -1 * pointerWidth;\n                    y = height / 2;\n                    break;\n            }\n            tag.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n                width: width,\n                height: height,\n            });\n            text.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n            });\n        }\n    }\n}\nexports.Label = Label;\nLabel.prototype.className = 'Label';\n(0, Global_1._registerNode)(Label);\nclass Tag extends Shape_1.Shape {\n    _sceneFunc(context) {\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = this.cornerRadius();\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft =\n                topRight =\n                    bottomLeft =\n                        bottomRight =\n                            Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.beginPath();\n        context.moveTo(topLeft, 0);\n        if (pointerDirection === UP) {\n            context.lineTo((width - pointerWidth) / 2, 0);\n            context.lineTo(width / 2, -1 * pointerHeight);\n            context.lineTo((width + pointerWidth) / 2, 0);\n        }\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        if (pointerDirection === RIGHT) {\n            context.lineTo(width, (height - pointerHeight) / 2);\n            context.lineTo(width + pointerWidth, height / 2);\n            context.lineTo(width, (height + pointerHeight) / 2);\n        }\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        if (pointerDirection === DOWN) {\n            context.lineTo((width + pointerWidth) / 2, height);\n            context.lineTo(width / 2, height + pointerHeight);\n            context.lineTo((width - pointerWidth) / 2, height);\n        }\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        if (pointerDirection === LEFT) {\n            context.lineTo(0, (height + pointerHeight) / 2);\n            context.lineTo(-1 * pointerWidth, height / 2);\n            context.lineTo(0, (height - pointerHeight) / 2);\n        }\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getSelfRect() {\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\n        if (direction === UP) {\n            y -= pointerHeight;\n            height += pointerHeight;\n        }\n        else if (direction === DOWN) {\n            height += pointerHeight;\n        }\n        else if (direction === LEFT) {\n            x -= pointerWidth * 1.5;\n            width += pointerWidth;\n        }\n        else if (direction === RIGHT) {\n            width += pointerWidth * 1.5;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    }\n}\nexports.Tag = Tag;\nTag.prototype.className = 'Tag';\n(0, Global_1._registerNode)(Tag);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerWidth', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Tag, 'pointerHeight', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Tag, 'cornerRadius', 0, (0, Validators_1.getNumberOrArrayOfNumbersValidator)(4));\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}