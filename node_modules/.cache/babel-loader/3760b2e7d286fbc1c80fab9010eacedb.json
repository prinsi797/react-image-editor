{"ast":null,"code":"var _jsxFileName = \"D:\\\\screenshort-extension\\\\image-editor-react\\\\src\\\\component\\\\Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport './style/main.scss';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport { GrRotateLeft, GrRotateRight, GrEdit, GrSuperscript } from 'react-icons/gr';\nimport { CgMergeVertical, CgMergeHorizontal } from 'react-icons/cg';\nimport { IoMdUndo, IoMdRedo, IoIosSave, IoIosImage } from 'react-icons/io';\nimport storeData from './LinkedList';\nimport logo from './style/logo.jpeg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const filterElement = [{\n    name: 'brightness',\n    maxValue: 200\n  }, {\n    name: 'grayscale',\n    maxValue: 100\n  }, {\n    name: 'sepia',\n    maxValue: 100\n  }, {\n    name: 'saturate',\n    maxValue: 200\n  }, {\n    name: 'contrast',\n    maxValue: 200\n  }, {\n    name: 'hueRotate',\n    maxValue: 360\n  }];\n  const [property, setProperty] = useState({\n    name: 'brightness',\n    maxValue: 200\n  });\n  const [details, setDetails] = useState(null);\n  const [crop, setCrop] = useState({});\n  const [drawing, setDrawing] = useState(false);\n  const [text, setText] = useState({\n    value: '',\n    x: 50,\n    y: 50\n  });\n  const [editingText, setEditingText] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  const [offset, setOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const canvasRef = useRef(null);\n  const [state, setState] = useState({\n    image: '',\n    brightness: 100,\n    grayscale: 0,\n    sepia: 0,\n    saturate: 100,\n    contrast: 100,\n    hueRotate: 0,\n    rotate: 0,\n    vartical: 1,\n    horizental: 1\n  });\n  useEffect(() => {\n    if (details) {\n      drawImage();\n    }\n  }, [state, details, crop, text]);\n\n  const drawImage = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    if (!details || !canvas) return;\n    const {\n      width,\n      height\n    } = canvas;\n    canvas.width = details.naturalWidth;\n    canvas.height = details.naturalHeight;\n    ctx.clearRect(0, 0, width, height);\n    ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\n    ctx.translate(width / 2, height / 2);\n    ctx.rotate(state.rotate * Math.PI / 180);\n    ctx.scale(state.vartical, state.horizental);\n    ctx.drawImage(details, -width / 2, -height / 2, width, height);\n    ctx.resetTransform();\n\n    if (text.value) {\n      ctx.font = '30px Arial';\n      ctx.fillStyle = 'red';\n      ctx.fillText(text.value, text.x, text.y);\n    }\n  };\n\n  const inputHandle = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const leftRotate = () => {\n    setState(prevState => ({ ...prevState,\n      rotate: prevState.rotate - 90\n    }));\n    storeData.insert({ ...state,\n      rotate: state.rotate - 90\n    });\n  };\n\n  const rightRotate = () => {\n    setState(prevState => ({ ...prevState,\n      rotate: prevState.rotate + 90\n    }));\n    storeData.insert({ ...state,\n      rotate: state.rotate + 90\n    });\n  };\n\n  const varticalFlip = () => {\n    setState(prevState => ({ ...prevState,\n      vartical: prevState.vartical === 1 ? -1 : 1\n    }));\n    storeData.insert({ ...state,\n      vartical: state.vartical === 1 ? -1 : 1\n    });\n  };\n\n  const horizentalFlip = () => {\n    setState(prevState => ({ ...prevState,\n      horizental: prevState.horizental === 1 ? -1 : 1\n    }));\n    storeData.insert({ ...state,\n      horizental: state.horizental === 1 ? -1 : 1\n    });\n  };\n\n  const redo = () => {\n    const data = storeData.redoEdit();\n\n    if (data) {\n      setState(data);\n    }\n  };\n\n  const undo = () => {\n    const data = storeData.undoEdit();\n\n    if (data) {\n      setState(data);\n    }\n  };\n\n  const imageHandle = e => {\n    if (e.target.files.length !== 0) {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        const img = new Image();\n        img.src = reader.result;\n\n        img.onload = () => {\n          setDetails(img);\n          setState({ ...state,\n            image: reader.result\n          });\n          storeData.insert({\n            image: reader.result,\n            brightness: 100,\n            grayscale: 0,\n            sepia: 0,\n            saturate: 100,\n            contrast: 100,\n            hueRotate: 0,\n            rotate: 0,\n            vartical: 1,\n            horizental: 1\n          });\n        };\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  };\n\n  const imageCrop = () => {\n    if (!details || !crop || !canvasRef.current) return;\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const scaleX = details.naturalWidth / details.width;\n    const scaleY = details.naturalHeight / details.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    ctx.drawImage(details, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height);\n    const base64Url = canvas.toDataURL('image/jpeg');\n    setState({ ...state,\n      image: base64Url\n    });\n  };\n\n  const saveImage = () => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!details) return;\n    canvas.width = details.naturalWidth;\n    canvas.height = details.naturalHeight;\n    ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate(state.rotate * Math.PI / 180);\n    ctx.scale(state.vartical, state.horizental);\n    ctx.drawImage(details, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);\n    ctx.resetTransform();\n\n    if (text.value) {\n      ctx.font = '30px Arial';\n      ctx.fillStyle = 'red';\n      ctx.fillText(text.value, text.x, text.y);\n    }\n\n    const link = document.createElement('a');\n    link.download = 'image_edit.jpg';\n    link.href = canvas.toDataURL();\n    link.click();\n  };\n\n  const startDrawing = e => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.beginPath();\n      ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    }\n  };\n\n  const draw = e => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n      ctx.strokeStyle = '#000000'; // Set the pencil color (black)\n\n      ctx.lineWidth = 2; // Set the pencil width\n\n      ctx.lineCap = 'round'; // Set the line cap for smoother lines\n\n      ctx.stroke();\n    }\n  };\n\n  const stopDrawing = () => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.closePath();\n    }\n  };\n\n  const enableDrawing = () => {\n    setDrawing(!drawing);\n  };\n\n  const textAdd = () => {\n    setText({\n      value: 'Hello World',\n      x: 50,\n      y: 50\n    });\n    setEditingText(true);\n  };\n\n  const handleTextChange = e => {\n    setText({ ...text,\n      value: e.target.value\n    });\n  };\n\n  const handleMouseDown = e => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const offsetX = e.clientX - rect.left;\n    const offsetY = e.clientY - rect.top;\n\n    if (offsetX >= text.x && offsetX <= text.x + 100 && offsetY >= text.y - 30 && offsetY <= text.y) {\n      setOffset({\n        x: offsetX - text.x,\n        y: offsetY - text.y\n      });\n      setIsDragging(true);\n    }\n  };\n\n  const handleMouseMove = e => {\n    if (isDragging) {\n      const rect = canvasRef.current.getBoundingClientRect();\n      const offsetX = e.clientX - rect.left;\n      const offsetY = e.clientY - rect.top;\n      setText({ ...text,\n        x: offsetX - offset.x,\n        y: offsetY - offset.y\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-sidebar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-sidebar-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Kryzetech\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-sidebar-logo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"upload-button\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: imageHandle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(IoIosImage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this), \"Upload Image\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-editing-tools\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: undo,\n            children: /*#__PURE__*/_jsxDEV(IoMdUndo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: redo,\n            children: /*#__PURE__*/_jsxDEV(IoMdRedo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: leftRotate,\n            children: /*#__PURE__*/_jsxDEV(GrRotateLeft, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: rightRotate,\n            children: /*#__PURE__*/_jsxDEV(GrRotateRight, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: varticalFlip,\n            children: /*#__PURE__*/_jsxDEV(CgMergeVertical, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: horizentalFlip,\n            children: /*#__PURE__*/_jsxDEV(CgMergeHorizontal, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-filter-tools\",\n          children: filterElement.map((v, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setProperty(v),\n            className: v.name === property.name ? 'active' : '',\n            children: v.name\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"app-filter-range\",\n          type: \"range\",\n          value: state[property.name],\n          name: property.name,\n          max: property.maxValue,\n          onChange: inputHandle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: enableDrawing,\n          children: /*#__PURE__*/_jsxDEV(GrEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: textAdd,\n          children: /*#__PURE__*/_jsxDEV(GrSuperscript, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-container\",\n        children: [/*#__PURE__*/_jsxDEV(ReactCrop, {\n          crop: crop,\n          onChange: c => setCrop(c),\n          children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            className: \"canvas\",\n            onMouseDown: startDrawing,\n            onMouseMove: draw,\n            onMouseUp: stopDrawing\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this), text.value && editingText && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: text.value,\n          onChange: handleTextChange,\n          style: {\n            position: 'absolute',\n            left: `${text.x}px`,\n            top: `${text.y - 30}px`,\n            zIndex: 10\n          },\n          onMouseDown: handleMouseDown,\n          onMouseMove: handleMouseMove,\n          onMouseUp: handleMouseUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: imageCrop,\n        children: \"Crop Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveImage,\n        children: [/*#__PURE__*/_jsxDEV(IoIosSave, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 21\n        }, this), \"Save Image\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"R/Kria+8MQ5WUdV2mLIU53xhcv8=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ReactCrop","GrRotateLeft","GrRotateRight","GrEdit","GrSuperscript","CgMergeVertical","CgMergeHorizontal","IoMdUndo","IoMdRedo","IoIosSave","IoIosImage","storeData","logo","Main","filterElement","name","maxValue","property","setProperty","details","setDetails","crop","setCrop","drawing","setDrawing","text","setText","value","x","y","editingText","setEditingText","isDragging","setIsDragging","offset","setOffset","canvasRef","state","setState","image","brightness","grayscale","sepia","saturate","contrast","hueRotate","rotate","vartical","horizental","drawImage","canvas","current","ctx","getContext","width","height","naturalWidth","naturalHeight","clearRect","filter","translate","Math","PI","scale","resetTransform","font","fillStyle","fillText","inputHandle","e","target","leftRotate","prevState","insert","rightRotate","varticalFlip","horizentalFlip","redo","data","redoEdit","undo","undoEdit","imageHandle","files","length","reader","FileReader","onload","img","Image","src","result","readAsDataURL","imageCrop","document","createElement","scaleX","scaleY","base64Url","toDataURL","saveImage","link","download","href","click","startDrawing","beginPath","moveTo","nativeEvent","offsetX","offsetY","draw","lineTo","strokeStyle","lineWidth","lineCap","stroke","stopDrawing","closePath","enableDrawing","textAdd","handleTextChange","handleMouseDown","rect","getBoundingClientRect","clientX","left","clientY","top","handleMouseMove","handleMouseUp","map","v","i","c","position","zIndex"],"sources":["D:/screenshort-extension/image-editor-react/src/component/Main.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './style/main.scss';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport { GrRotateLeft, GrRotateRight, GrEdit, GrSuperscript } from 'react-icons/gr';\r\nimport { CgMergeVertical, CgMergeHorizontal } from 'react-icons/cg';\r\nimport { IoMdUndo, IoMdRedo, IoIosSave, IoIosImage } from 'react-icons/io';\r\nimport storeData from './LinkedList';\r\nimport logo from './style/logo.jpeg';\r\n\r\nconst Main = () => {\r\n    const filterElement = [\r\n        { name: 'brightness', maxValue: 200 },\r\n        { name: 'grayscale', maxValue: 100 },\r\n        { name: 'sepia', maxValue: 100 },\r\n        { name: 'saturate', maxValue: 200 },\r\n        { name: 'contrast', maxValue: 200 },\r\n        { name: 'hueRotate', maxValue: 360 }\r\n    ];\r\n\r\n    const [property, setProperty] = useState({ name: 'brightness', maxValue: 200 });\r\n    const [details, setDetails] = useState(null);\r\n    const [crop, setCrop] = useState({});\r\n    const [drawing, setDrawing] = useState(false);\r\n    const [text, setText] = useState({ value: '', x: 50, y: 50 });\r\n    const [editingText, setEditingText] = useState(false);\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n    const canvasRef = useRef(null);\r\n\r\n    const [state, setState] = useState({\r\n        image: '',\r\n        brightness: 100,\r\n        grayscale: 0,\r\n        sepia: 0,\r\n        saturate: 100,\r\n        contrast: 100,\r\n        hueRotate: 0,\r\n        rotate: 0,\r\n        vartical: 1,\r\n        horizental: 1\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (details) {\r\n            drawImage();\r\n        }\r\n    }, [state, details, crop, text]);\r\n\r\n    const drawImage = () => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!details || !canvas) return;\r\n\r\n        const { width, height } = canvas;\r\n\r\n        canvas.width = details.naturalWidth;\r\n        canvas.height = details.naturalHeight;\r\n\r\n        ctx.clearRect(0, 0, width, height);\r\n\r\n        ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\r\n        ctx.translate(width / 2, height / 2);\r\n        ctx.rotate(state.rotate * Math.PI / 180);\r\n        ctx.scale(state.vartical, state.horizental);\r\n        ctx.drawImage(details, -width / 2, -height / 2, width, height);\r\n        ctx.resetTransform();\r\n\r\n        if (text.value) {\r\n            ctx.font = '30px Arial';\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillText(text.value, text.x, text.y);\r\n        }\r\n    };\r\n\r\n    const inputHandle = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const leftRotate = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            rotate: prevState.rotate - 90\r\n        }));\r\n        storeData.insert({ ...state, rotate: state.rotate - 90 });\r\n    };\r\n\r\n    const rightRotate = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            rotate: prevState.rotate + 90\r\n        }));\r\n        storeData.insert({ ...state, rotate: state.rotate + 90 });\r\n    };\r\n\r\n    const varticalFlip = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            vartical: prevState.vartical === 1 ? -1 : 1\r\n        }));\r\n        storeData.insert({ ...state, vartical: state.vartical === 1 ? -1 : 1 });\r\n    };\r\n\r\n    const horizentalFlip = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            horizental: prevState.horizental === 1 ? -1 : 1\r\n        }));\r\n        storeData.insert({ ...state, horizental: state.horizental === 1 ? -1 : 1 });\r\n    };\r\n\r\n    const redo = () => {\r\n        const data = storeData.redoEdit();\r\n        if (data) {\r\n            setState(data);\r\n        }\r\n    };\r\n\r\n    const undo = () => {\r\n        const data = storeData.undoEdit();\r\n        if (data) {\r\n            setState(data);\r\n        }\r\n    };\r\n\r\n    const imageHandle = (e) => {\r\n        if (e.target.files.length !== 0) {\r\n            const reader = new FileReader();\r\n            reader.onload = () => {\r\n                const img = new Image();\r\n                img.src = reader.result;\r\n                img.onload = () => {\r\n                    setDetails(img);\r\n                    setState({\r\n                        ...state,\r\n                        image: reader.result\r\n                    });\r\n                    storeData.insert({\r\n                        image: reader.result,\r\n                        brightness: 100,\r\n                        grayscale: 0,\r\n                        sepia: 0,\r\n                        saturate: 100,\r\n                        contrast: 100,\r\n                        hueRotate: 0,\r\n                        rotate: 0,\r\n                        vartical: 1,\r\n                        horizental: 1\r\n                    });\r\n                };\r\n            };\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const imageCrop = () => {\r\n        if (!details || !crop || !canvasRef.current) return;\r\n\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        const scaleX = details.naturalWidth / details.width;\r\n        const scaleY = details.naturalHeight / details.height;\r\n\r\n        canvas.width = crop.width;\r\n        canvas.height = crop.height;\r\n\r\n        ctx.drawImage(\r\n            details,\r\n            crop.x * scaleX,\r\n            crop.y * scaleY,\r\n            crop.width * scaleX,\r\n            crop.height * scaleY,\r\n            0,\r\n            0,\r\n            crop.width,\r\n            crop.height\r\n        );\r\n\r\n        const base64Url = canvas.toDataURL('image/jpeg');\r\n        setState({\r\n            ...state,\r\n            image: base64Url\r\n        });\r\n    };\r\n\r\n    const saveImage = () => {\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        if (!details) return;\r\n\r\n        canvas.width = details.naturalWidth;\r\n        canvas.height = details.naturalHeight;\r\n\r\n        ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\r\n        ctx.translate(canvas.width / 2, canvas.height / 2);\r\n        ctx.rotate(state.rotate * Math.PI / 180);\r\n        ctx.scale(state.vartical, state.horizental);\r\n        ctx.drawImage(\r\n            details,\r\n            -canvas.width / 2,\r\n            -canvas.height / 2,\r\n            canvas.width,\r\n            canvas.height\r\n        );\r\n        ctx.resetTransform();\r\n\r\n        if (text.value) {\r\n            ctx.font = '30px Arial';\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillText(text.value, text.x, text.y);\r\n        }\r\n\r\n        const link = document.createElement('a');\r\n        link.download = 'image_edit.jpg';\r\n        link.href = canvas.toDataURL();\r\n        link.click();\r\n    };\r\n\r\n    const startDrawing = (e) => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.beginPath();\r\n            ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n        }\r\n    };\r\n\r\n    const draw = (e) => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n            ctx.strokeStyle = '#000000'; // Set the pencil color (black)\r\n            ctx.lineWidth = 2; // Set the pencil width\r\n            ctx.lineCap = 'round'; // Set the line cap for smoother lines\r\n            ctx.stroke();\r\n        }\r\n    };\r\n\r\n    const stopDrawing = () => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.closePath();\r\n        }\r\n    };\r\n\r\n    const enableDrawing = () => {\r\n        setDrawing(!drawing);\r\n    };\r\n\r\n    const textAdd = () => {\r\n        setText({ value: 'Hello World', x: 50, y: 50 });\r\n        setEditingText(true);\r\n    };\r\n\r\n    const handleTextChange = (e) => {\r\n        setText({ ...text, value: e.target.value });\r\n    };\r\n\r\n    const handleMouseDown = (e) => {\r\n        const rect = canvasRef.current.getBoundingClientRect();\r\n        const offsetX = e.clientX - rect.left;\r\n        const offsetY = e.clientY - rect.top;\r\n\r\n        if (\r\n            offsetX >= text.x &&\r\n            offsetX <= text.x + 100 &&\r\n            offsetY >= text.y - 30 &&\r\n            offsetY <= text.y\r\n        ) {\r\n            setOffset({ x: offsetX - text.x, y: offsetY - text.y });\r\n            setIsDragging(true);\r\n        }\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (isDragging) {\r\n            const rect = canvasRef.current.getBoundingClientRect();\r\n            const offsetX = e.clientX - rect.left;\r\n            const offsetY = e.clientY - rect.top;\r\n\r\n            setText({ ...text, x: offsetX - offset.x, y: offsetY - offset.y });\r\n        }\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n        setIsDragging(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <div className=\"app-sidebar\">\r\n                <div className=\"app-sidebar-content\">\r\n                    <h1>Kryzetech</h1>\r\n                    <div className=\"app-sidebar-logo\">\r\n                        <img src={logo} alt=\"logo\" />\r\n                    </div>\r\n                    <button className=\"upload-button\">\r\n                        <input type=\"file\" onChange={imageHandle} />\r\n                        <IoIosImage />\r\n                        Upload Image\r\n                    </button>\r\n                    <div className=\"app-editing-tools\">\r\n                        <button onClick={undo}>\r\n                            <IoMdUndo />\r\n                        </button>\r\n                        <button onClick={redo}>\r\n                            <IoMdRedo />\r\n                        </button>\r\n                        <button onClick={leftRotate}>\r\n                            <GrRotateLeft />\r\n                        </button>\r\n                        <button onClick={rightRotate}>\r\n                            <GrRotateRight />\r\n                        </button>\r\n                        <button onClick={varticalFlip}>\r\n                            <CgMergeVertical />\r\n                        </button>\r\n                        <button onClick={horizentalFlip}>\r\n                            <CgMergeHorizontal />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"app-filter-tools\">\r\n                        {filterElement.map((v, i) => (\r\n                            <button\r\n                                key={i}\r\n                                onClick={() => setProperty(v)}\r\n                                className={v.name === property.name ? 'active' : ''}\r\n                            >\r\n                                {v.name}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                    <input\r\n                        className=\"app-filter-range\"\r\n                        type=\"range\"\r\n                        value={state[property.name]}\r\n                        name={property.name}\r\n                        max={property.maxValue}\r\n                        onChange={inputHandle}\r\n                    />\r\n                    <button onClick={enableDrawing}>\r\n                        <GrEdit />\r\n                    </button>\r\n                    <button onClick={textAdd}>\r\n                        <GrSuperscript />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className=\"app-content\">\r\n                <div className=\"canvas-container\">\r\n                    <ReactCrop crop={crop} onChange={(c) => setCrop(c)}>\r\n                        <canvas\r\n                            ref={canvasRef}\r\n                            className=\"canvas\"\r\n                            onMouseDown={startDrawing}\r\n                            onMouseMove={draw}\r\n                            onMouseUp={stopDrawing}\r\n                        />\r\n                    </ReactCrop>\r\n                    {text.value && editingText && (\r\n                        <input\r\n                            type=\"text\"\r\n                            value={text.value}\r\n                            onChange={handleTextChange}\r\n                            style={{\r\n                                position: 'absolute',\r\n                                left: `${text.x}px`,\r\n                                top: `${text.y - 30}px`,\r\n                                zIndex: 10\r\n                            }}\r\n                            onMouseDown={handleMouseDown}\r\n                            onMouseMove={handleMouseMove}\r\n                            onMouseUp={handleMouseUp}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <div className=\"app-buttons\">\r\n                <button onClick={imageCrop}>Crop Image</button>\r\n                <button onClick={saveImage}>\r\n                    <IoIosSave />\r\n                    Save Image\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}