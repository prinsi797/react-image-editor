{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Arc = void 0;\n\nconst Factory_1 = require(\"../Factory\");\n\nconst Shape_1 = require(\"../Shape\");\n\nconst Global_1 = require(\"../Global\");\n\nconst Validators_1 = require(\"../Validators\");\n\nconst Global_2 = require(\"../Global\");\n\nclass Arc extends Shape_1.Shape {\n  _sceneFunc(context) {\n    var angle = Global_1.Konva.getAngle(this.angle()),\n        clockwise = this.clockwise();\n    context.beginPath();\n    context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n    context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n    context.closePath();\n    context.fillStrokeShape(this);\n  }\n\n  getWidth() {\n    return this.outerRadius() * 2;\n  }\n\n  getHeight() {\n    return this.outerRadius() * 2;\n  }\n\n  setWidth(width) {\n    this.outerRadius(width / 2);\n  }\n\n  setHeight(height) {\n    this.outerRadius(height / 2);\n  }\n\n  getSelfRect() {\n    const innerRadius = this.innerRadius();\n    const outerRadius = this.outerRadius();\n    const clockwise = this.clockwise();\n    const angle = Global_1.Konva.getAngle(clockwise ? 360 - this.angle() : this.angle());\n    const boundLeftRatio = Math.cos(Math.min(angle, Math.PI));\n    const boundRightRatio = 1;\n    const boundTopRatio = Math.sin(Math.min(Math.max(Math.PI, angle), 3 * Math.PI / 2));\n    const boundBottomRatio = Math.sin(Math.min(angle, Math.PI / 2));\n    const boundLeft = boundLeftRatio * (boundLeftRatio > 0 ? innerRadius : outerRadius);\n    const boundRight = boundRightRatio * (boundRightRatio > 0 ? outerRadius : innerRadius);\n    const boundTop = boundTopRatio * (boundTopRatio > 0 ? innerRadius : outerRadius);\n    const boundBottom = boundBottomRatio * (boundBottomRatio > 0 ? outerRadius : innerRadius);\n    return {\n      x: boundLeft,\n      y: clockwise ? -1 * boundBottom : boundTop,\n      width: boundRight - boundLeft,\n      height: boundBottom - boundTop\n    };\n  }\n\n}\n\nexports.Arc = Arc;\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n(0, Global_2._registerNode)(Arc);\nFactory_1.Factory.addGetterSetter(Arc, 'innerRadius', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arc, 'outerRadius', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arc, 'angle', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arc, 'clockwise', false, (0, Validators_1.getBooleanValidator)());","map":{"version":3,"names":["Object","defineProperty","exports","value","Arc","Factory_1","require","Shape_1","Global_1","Validators_1","Global_2","Shape","_sceneFunc","context","angle","Konva","getAngle","clockwise","beginPath","arc","outerRadius","innerRadius","closePath","fillStrokeShape","getWidth","getHeight","setWidth","width","setHeight","height","getSelfRect","boundLeftRatio","Math","cos","min","PI","boundRightRatio","boundTopRatio","sin","max","boundBottomRatio","boundLeft","boundRight","boundTop","boundBottom","x","y","prototype","_centroid","className","_attrsAffectingSize","_registerNode","Factory","addGetterSetter","getNumberValidator","getBooleanValidator"],"sources":["D:/screenshort-extension/image-editor-react/node_modules/konva/lib/shapes/Arc.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Arc = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Global_1 = require(\"../Global\");\nconst Validators_1 = require(\"../Validators\");\nconst Global_2 = require(\"../Global\");\nclass Arc extends Shape_1.Shape {\n    _sceneFunc(context) {\n        var angle = Global_1.Konva.getAngle(this.angle()), clockwise = this.clockwise();\n        context.beginPath();\n        context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n        context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n    getSelfRect() {\n        const innerRadius = this.innerRadius();\n        const outerRadius = this.outerRadius();\n        const clockwise = this.clockwise();\n        const angle = Global_1.Konva.getAngle(clockwise ? 360 - this.angle() : this.angle());\n        const boundLeftRatio = Math.cos(Math.min(angle, Math.PI));\n        const boundRightRatio = 1;\n        const boundTopRatio = Math.sin(Math.min(Math.max(Math.PI, angle), (3 * Math.PI) / 2));\n        const boundBottomRatio = Math.sin(Math.min(angle, Math.PI / 2));\n        const boundLeft = boundLeftRatio * (boundLeftRatio > 0 ? innerRadius : outerRadius);\n        const boundRight = boundRightRatio * (boundRightRatio > 0 ? outerRadius : innerRadius);\n        const boundTop = boundTopRatio * (boundTopRatio > 0 ? innerRadius : outerRadius);\n        const boundBottom = boundBottomRatio * (boundBottomRatio > 0 ? outerRadius : innerRadius);\n        return {\n            x: boundLeft,\n            y: clockwise ? -1 * boundBottom : boundTop,\n            width: boundRight - boundLeft,\n            height: boundBottom - boundTop,\n        };\n    }\n}\nexports.Arc = Arc;\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n(0, Global_2._registerNode)(Arc);\nFactory_1.Factory.addGetterSetter(Arc, 'innerRadius', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arc, 'outerRadius', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arc, 'angle', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Arc, 'clockwise', false, (0, Validators_1.getBooleanValidator)());\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}