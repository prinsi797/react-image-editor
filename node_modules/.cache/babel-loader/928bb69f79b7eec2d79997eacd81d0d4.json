{"ast":null,"code":"var _jsxFileName = \"D:\\\\screenshort-extension\\\\image-editor-react\\\\src\\\\component\\\\Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport './style/main.scss';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport { GrRotateLeft, GrRotateRight, GrEdit, GrSuperscript } from 'react-icons/gr';\nimport { CgMergeVertical, CgMergeHorizontal } from 'react-icons/cg';\nimport { IoMdUndo, IoMdRedo, IoIosImage } from 'react-icons/io';\nimport { Stage, Layer, Image as KonvaImage, Text as KonvaText } from 'react-konva';\nimport Konva from 'konva';\nimport storeData from './LinkedList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const filterElement = [{\n    name: 'brightness',\n    maxValue: 200\n  }, {\n    name: 'grayscale',\n    maxValue: 100\n  }, {\n    name: 'sepia',\n    maxValue: 100\n  }, {\n    name: 'saturate',\n    maxValue: 200\n  }, {\n    name: 'contrast',\n    maxValue: 200\n  }, {\n    name: 'hueRotate',\n    maxValue: 360\n  }];\n  const [property, setProperty] = useState({\n    name: 'brightness',\n    maxValue: 200\n  });\n  const [details, setDetails] = useState(null);\n  const [crop, setCrop] = useState({});\n  const [drawing, setDrawing] = useState(false);\n  const [texts, setTexts] = useState([]);\n  const [isAddingText, setIsAddingText] = useState(false);\n  const [selectedText, setSelectedText] = useState(null);\n  const canvasRef = useRef(null);\n  const stageRef = useRef(null);\n  const [state, setState] = useState({\n    image: '',\n    brightness: 100,\n    grayscale: 0,\n    sepia: 0,\n    saturate: 100,\n    contrast: 100,\n    hueRotate: 0,\n    rotate: 0,\n    vartical: 1,\n    horizental: 1\n  });\n  useEffect(() => {\n    if (details) {\n      drawImage();\n    }\n  }, [state, details, crop]);\n\n  const addText = () => {\n    setIsAddingText(true);\n  };\n\n  const handleTextClick = e => {\n    const text = e.target;\n    setSelectedText(text);\n  };\n\n  const handleStageClick = e => {\n    if (isAddingText) {\n      const {\n        x,\n        y\n      } = e.target.getStage().getPointerPosition();\n      setTexts([...texts, {\n        x,\n        y,\n        text: 'Edit me',\n        id: `text_${texts.length + 1}`\n      }]);\n      setIsAddingText(false);\n    } else {\n      setSelectedText(null);\n    }\n  };\n\n  const drawImage = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    if (!details || !canvas) return;\n    const {\n      width,\n      height\n    } = canvas;\n    ctx.clearRect(0, 0, width, height);\n    ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\n    ctx.translate(width / 2, height / 2);\n    ctx.rotate(state.rotate * Math.PI / 180);\n    ctx.scale(state.vartical, state.horizental);\n    ctx.drawImage(details, -width / 2, -height / 2, width, height);\n  };\n\n  const inputHandle = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const leftRotate = () => {\n    setState(prevState => ({ ...prevState,\n      rotate: prevState.rotate - 90\n    }));\n    storeData.insert({ ...state,\n      rotate: state.rotate - 90\n    });\n  };\n\n  const rightRotate = () => {\n    setState(prevState => ({ ...prevState,\n      rotate: prevState.rotate + 90\n    }));\n    storeData.insert({ ...state,\n      rotate: state.rotate + 90\n    });\n  };\n\n  const varticalFlip = () => {\n    setState(prevState => ({ ...prevState,\n      vartical: prevState.vartical === 1 ? -1 : 1\n    }));\n    storeData.insert({ ...state,\n      vartical: state.vartical === 1 ? -1 : 1\n    });\n  };\n\n  const horizentalFlip = () => {\n    setState(prevState => ({ ...prevState,\n      horizental: prevState.horizental === 1 ? -1 : 1\n    }));\n    storeData.insert({ ...state,\n      horizental: state.horizental === 1 ? -1 : 1\n    });\n  };\n\n  const redo = () => {\n    const data = storeData.redoEdit();\n\n    if (data) {\n      setState(data);\n    }\n  };\n\n  const undo = () => {\n    const data = storeData.undoEdit();\n\n    if (data) {\n      setState(data);\n    }\n  };\n\n  const handleTextChange = e => {\n    const newText = e.target.value;\n    setTexts(texts.map(t => t.id === selectedText.id ? { ...t,\n      text: newText\n    } : t));\n  };\n\n  const imageHandle = e => {\n    if (e.target.files.length !== 0) {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        const img = new Image();\n        img.src = reader.result;\n\n        img.onload = () => {\n          setDetails(img);\n          setState({ ...state,\n            image: reader.result\n          });\n          storeData.insert({\n            image: reader.result,\n            brightness: 100,\n            grayscale: 0,\n            sepia: 0,\n            saturate: 100,\n            contrast: 100,\n            hueRotate: 0,\n            rotate: 0,\n            vartical: 1,\n            horizental: 1\n          });\n        };\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  };\n\n  const imageCrop = () => {\n    if (!details || !crop || !canvasRef.current) return;\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const scaleX = details.naturalWidth / details.width;\n    const scaleY = details.naturalHeight / details.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    ctx.drawImage(details, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height);\n    const base64Url = canvas.toDataURL('image/jpeg');\n    setState({ ...state,\n      image: base64Url\n    });\n  };\n\n  const saveImage = () => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!details) return;\n    canvas.width = details.naturalWidth;\n    canvas.height = details.naturalHeight;\n    ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate(state.rotate * Math.PI / 180);\n    ctx.scale(state.vartical, state.horizental);\n    ctx.drawImage(details, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);\n    const link = document.createElement('a');\n    link.download = 'image_edit.jpg';\n    link.href = canvas.toDataURL();\n    link.click();\n  };\n\n  const startDrawing = e => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.beginPath();\n      ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    }\n  };\n\n  const draw = e => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n      ctx.strokeStyle = '#000000'; // Set the pencil color (black)\n\n      ctx.lineWidth = 2; // Set the pencil width\n\n      ctx.lineCap = 'round'; // Set the line cap for smoother lines\n\n      ctx.stroke();\n    }\n  };\n\n  const stopDrawing = () => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.closePath();\n    }\n  };\n\n  const enableDrawing = () => {\n    setDrawing(!drawing);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"image_editor\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card_header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"------ Image Editor ------\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card_body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter_section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"filter\",\n              children: \"Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"filter\",\n              value: property.name,\n              onChange: e => setProperty(filterElement.find(filter => filter.name === e.target.value)),\n              children: filterElement.map(filter => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: filter.name,\n                children: filter.name\n              }, filter.name, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              name: property.name,\n              max: property.maxValue,\n              value: state[property.name],\n              onChange: inputHandle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main_content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image_upload_section\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"upload_image\",\n              children: [/*#__PURE__*/_jsxDEV(IoIosImage, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"upload_image\",\n                onChange: imageHandle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image_canvas_section\",\n            children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n              ref: canvasRef,\n              width: \"500\",\n              height: \"500\",\n              onMouseDown: startDrawing,\n              onMouseMove: draw,\n              onMouseUp: stopDrawing,\n              onMouseLeave: stopDrawing\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Stage, {\n              width: 500,\n              height: 500,\n              ref: stageRef,\n              onClick: handleStageClick,\n              children: /*#__PURE__*/_jsxDEV(Layer, {\n                children: [state.image && /*#__PURE__*/_jsxDEV(KonvaImage, {\n                  image: details,\n                  width: 500,\n                  height: 500,\n                  filters: [Konva.Filters.Brighten, Konva.Filters.Grayscale, Konva.Filters.Sepia, Konva.Filters.Saturate, Konva.Filters.Contrast, Konva.Filters.Hue],\n                  brightness: state.brightness / 100,\n                  grayscale: state.grayscale / 100,\n                  sepia: state.sepia / 100,\n                  saturate: state.saturate / 100,\n                  contrast: state.contrast / 100,\n                  hue: state.hueRotate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 41\n                }, this), texts.map((textObj, index) => /*#__PURE__*/_jsxDEV(KonvaText, {\n                  text: textObj.text,\n                  x: textObj.x,\n                  y: textObj.y,\n                  draggable: true,\n                  fill: \"black\",\n                  fontSize: 20,\n                  onClick: handleTextClick\n                }, textObj.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 41\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this), selectedText && /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: selectedText.text,\n              onChange: handleTextChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: leftRotate,\n            children: /*#__PURE__*/_jsxDEV(GrRotateLeft, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: rightRotate,\n            children: /*#__PURE__*/_jsxDEV(GrRotateRight, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: varticalFlip,\n            children: /*#__PURE__*/_jsxDEV(CgMergeVertical, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: horizentalFlip,\n            children: /*#__PURE__*/_jsxDEV(CgMergeHorizontal, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: undo,\n            children: /*#__PURE__*/_jsxDEV(IoMdUndo, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: redo,\n            children: /*#__PURE__*/_jsxDEV(IoMdRedo, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: imageCrop,\n            children: /*#__PURE__*/_jsxDEV(GrEdit, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: enableDrawing,\n            children: /*#__PURE__*/_jsxDEV(GrEdit, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addText,\n            children: /*#__PURE__*/_jsxDEV(GrSuperscript, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"save_section\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveImage,\n            children: \"Save Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"ot5zhLqErbB4i3XrQ3xyAyHkm5A=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ReactCrop","GrRotateLeft","GrRotateRight","GrEdit","GrSuperscript","CgMergeVertical","CgMergeHorizontal","IoMdUndo","IoMdRedo","IoIosImage","Stage","Layer","Image","KonvaImage","Text","KonvaText","Konva","storeData","Main","filterElement","name","maxValue","property","setProperty","details","setDetails","crop","setCrop","drawing","setDrawing","texts","setTexts","isAddingText","setIsAddingText","selectedText","setSelectedText","canvasRef","stageRef","state","setState","image","brightness","grayscale","sepia","saturate","contrast","hueRotate","rotate","vartical","horizental","drawImage","addText","handleTextClick","e","text","target","handleStageClick","x","y","getStage","getPointerPosition","id","length","canvas","current","ctx","getContext","width","height","clearRect","filter","translate","Math","PI","scale","inputHandle","value","leftRotate","prevState","insert","rightRotate","varticalFlip","horizentalFlip","redo","data","redoEdit","undo","undoEdit","handleTextChange","newText","map","t","imageHandle","files","reader","FileReader","onload","img","src","result","readAsDataURL","imageCrop","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","base64Url","toDataURL","saveImage","link","download","href","click","startDrawing","beginPath","moveTo","nativeEvent","offsetX","offsetY","draw","lineTo","strokeStyle","lineWidth","lineCap","stroke","stopDrawing","closePath","enableDrawing","find","Filters","Brighten","Grayscale","Sepia","Saturate","Contrast","Hue","textObj","index"],"sources":["D:/screenshort-extension/image-editor-react/src/component/Main.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './style/main.scss';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport { GrRotateLeft, GrRotateRight, GrEdit, GrSuperscript } from 'react-icons/gr';\r\nimport { CgMergeVertical, CgMergeHorizontal } from 'react-icons/cg';\r\nimport { IoMdUndo, IoMdRedo, IoIosImage } from 'react-icons/io';\r\nimport { Stage, Layer, Image as KonvaImage, Text as KonvaText } from 'react-konva';\r\nimport Konva from 'konva';\r\nimport storeData from './LinkedList';\r\n\r\nconst Main = () => {\r\n    const filterElement = [\r\n        { name: 'brightness', maxValue: 200 },\r\n        { name: 'grayscale', maxValue: 100 },\r\n        { name: 'sepia', maxValue: 100 },\r\n        { name: 'saturate', maxValue: 200 },\r\n        { name: 'contrast', maxValue: 200 },\r\n        { name: 'hueRotate', maxValue: 360 }\r\n    ];\r\n\r\n    const [property, setProperty] = useState({ name: 'brightness', maxValue: 200 });\r\n    const [details, setDetails] = useState(null);\r\n    const [crop, setCrop] = useState({});\r\n    const [drawing, setDrawing] = useState(false);\r\n    const [texts, setTexts] = useState([]);\r\n    const [isAddingText, setIsAddingText] = useState(false);\r\n    const [selectedText, setSelectedText] = useState(null);\r\n    const canvasRef = useRef(null);\r\n    const stageRef = useRef(null);\r\n\r\n    const [state, setState] = useState({\r\n        image: '',\r\n        brightness: 100,\r\n        grayscale: 0,\r\n        sepia: 0,\r\n        saturate: 100,\r\n        contrast: 100,\r\n        hueRotate: 0,\r\n        rotate: 0,\r\n        vartical: 1,\r\n        horizental: 1\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (details) {\r\n            drawImage();\r\n        }\r\n    }, [state, details, crop]);\r\n\r\n    const addText = () => {\r\n        setIsAddingText(true);\r\n    };\r\n    \r\n    const handleTextClick = (e) => {\r\n        const text = e.target;\r\n        setSelectedText(text);\r\n    };\r\n    \r\n    const handleStageClick = (e) => {\r\n        if (isAddingText) {\r\n            const { x, y } = e.target.getStage().getPointerPosition();\r\n            setTexts([...texts, { x, y, text: 'Edit me', id: `text_${texts.length + 1}` }]);\r\n            setIsAddingText(false);\r\n        } else {\r\n            setSelectedText(null);\r\n        }\r\n    };\r\n\r\n    const drawImage = () => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!details || !canvas) return;\r\n\r\n        const { width, height } = canvas;\r\n        ctx.clearRect(0, 0, width, height);\r\n\r\n        ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\r\n        ctx.translate(width / 2, height / 2);\r\n        ctx.rotate(state.rotate * Math.PI / 180);\r\n        ctx.scale(state.vartical, state.horizental);\r\n        ctx.drawImage(details, -width / 2, -height / 2, width, height);\r\n    };\r\n\r\n    const inputHandle = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const leftRotate = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            rotate: prevState.rotate - 90\r\n        }));\r\n        storeData.insert({ ...state, rotate: state.rotate - 90 });\r\n    };\r\n\r\n    const rightRotate = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            rotate: prevState.rotate + 90\r\n        }));\r\n        storeData.insert({ ...state, rotate: state.rotate + 90 });\r\n    };\r\n\r\n    const varticalFlip = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            vartical: prevState.vartical === 1 ? -1 : 1\r\n        }));\r\n        storeData.insert({ ...state, vartical: state.vartical === 1 ? -1 : 1 });\r\n    };\r\n\r\n    const horizentalFlip = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            horizental: prevState.horizental === 1 ? -1 : 1\r\n        }));\r\n        storeData.insert({ ...state, horizental: state.horizental === 1 ? -1 : 1 });\r\n    };\r\n\r\n    const redo = () => {\r\n        const data = storeData.redoEdit();\r\n        if (data) {\r\n            setState(data);\r\n        }\r\n    };\r\n\r\n    const undo = () => {\r\n        const data = storeData.undoEdit();\r\n        if (data) {\r\n            setState(data);\r\n        }\r\n    };\r\n\r\n    const handleTextChange = (e) => {\r\n        const newText = e.target.value;\r\n        setTexts(texts.map(t => t.id === selectedText.id ? { ...t, text: newText } : t));\r\n    };\r\n\r\n    const imageHandle = (e) => {\r\n        if (e.target.files.length !== 0) {\r\n            const reader = new FileReader();\r\n            reader.onload = () => {\r\n                const img = new Image();\r\n                img.src = reader.result;\r\n                img.onload = () => {\r\n                    setDetails(img);\r\n                    setState({\r\n                        ...state,\r\n                        image: reader.result\r\n                    });\r\n                    storeData.insert({\r\n                        image: reader.result,\r\n                        brightness: 100,\r\n                        grayscale: 0,\r\n                        sepia: 0,\r\n                        saturate: 100,\r\n                        contrast: 100,\r\n                        hueRotate: 0,\r\n                        rotate: 0,\r\n                        vartical: 1,\r\n                        horizental: 1\r\n                    });\r\n                };\r\n            };\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const imageCrop = () => {\r\n        if (!details || !crop || !canvasRef.current) return;\r\n\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        const scaleX = details.naturalWidth / details.width;\r\n        const scaleY = details.naturalHeight / details.height;\r\n\r\n        canvas.width = crop.width;\r\n        canvas.height = crop.height;\r\n\r\n        ctx.drawImage(\r\n            details,\r\n            crop.x * scaleX,\r\n            crop.y * scaleY,\r\n            crop.width * scaleX,\r\n            crop.height * scaleY,\r\n            0,\r\n            0,\r\n            crop.width,\r\n            crop.height\r\n        );\r\n\r\n        const base64Url = canvas.toDataURL('image/jpeg');\r\n        setState({\r\n            ...state,\r\n            image: base64Url\r\n        });\r\n    };\r\n\r\n    const saveImage = () => {\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        if (!details) return;\r\n\r\n        canvas.width = details.naturalWidth;\r\n        canvas.height = details.naturalHeight;\r\n\r\n        ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\r\n        ctx.translate(canvas.width / 2, canvas.height / 2);\r\n        ctx.rotate(state.rotate * Math.PI / 180);\r\n        ctx.scale(state.vartical, state.horizental);\r\n        ctx.drawImage(\r\n            details,\r\n            -canvas.width / 2,\r\n            -canvas.height / 2,\r\n            canvas.width,\r\n            canvas.height\r\n        );\r\n\r\n        const link = document.createElement('a');\r\n        link.download = 'image_edit.jpg';\r\n        link.href = canvas.toDataURL();\r\n        link.click();\r\n    };\r\n\r\n    const startDrawing = (e) => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.beginPath();\r\n            ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n        }\r\n    };\r\n\r\n    const draw = (e) => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n            ctx.strokeStyle = '#000000'; // Set the pencil color (black)\r\n            ctx.lineWidth = 2; // Set the pencil width\r\n            ctx.lineCap = 'round'; // Set the line cap for smoother lines\r\n            ctx.stroke();\r\n        }\r\n    };\r\n\r\n    const stopDrawing = () => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.closePath();\r\n        }\r\n    };\r\n\r\n    const enableDrawing = () => {\r\n        setDrawing(!drawing);\r\n    };\r\n\r\n    return (\r\n        <div className='image_editor'>\r\n            <div className=\"card\">\r\n                <div className=\"card_header\">\r\n                    <h2>------ Image Editor ------</h2>\r\n                </div>\r\n                <div className=\"card_body\">\r\n                    <div className=\"sidebar\">\r\n                        <div className=\"filter_section\">\r\n                            <label htmlFor=\"filter\">Filters</label>\r\n                            <select name=\"filter\" value={property.name} onChange={(e) => setProperty(filterElement.find(filter => filter.name === e.target.value))}>\r\n                                {filterElement.map(filter => (\r\n                                    <option key={filter.name} value={filter.name}>{filter.name}</option>\r\n                                ))}\r\n                            </select>\r\n                            <input\r\n                                type=\"range\"\r\n                                name={property.name}\r\n                                max={property.maxValue}\r\n                                value={state[property.name]}\r\n                                onChange={inputHandle}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"main_content\">\r\n                        <div className=\"image_upload_section\">\r\n                            <label htmlFor=\"upload_image\">\r\n                                <IoIosImage size={24} />\r\n                                <input type=\"file\" id=\"upload_image\" onChange={imageHandle} />\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"image_canvas_section\">\r\n                            <canvas\r\n                                ref={canvasRef}\r\n                                width=\"500\"\r\n                                height=\"500\"\r\n                                onMouseDown={startDrawing}\r\n                                onMouseMove={draw}\r\n                                onMouseUp={stopDrawing}\r\n                                onMouseLeave={stopDrawing}\r\n                            />\r\n                            <Stage\r\n                                width={500}\r\n                                height={500}\r\n                                ref={stageRef}\r\n                                onClick={handleStageClick}\r\n                            >\r\n                                <Layer>\r\n                                    {state.image && (\r\n                                        <KonvaImage\r\n                                            image={details}\r\n                                            width={500}\r\n                                            height={500}\r\n                                            filters={[\r\n                                                Konva.Filters.Brighten,\r\n                                                Konva.Filters.Grayscale,\r\n                                                Konva.Filters.Sepia,\r\n                                                Konva.Filters.Saturate,\r\n                                                Konva.Filters.Contrast,\r\n                                                Konva.Filters.Hue\r\n                                            ]}\r\n                                            brightness={state.brightness / 100}\r\n                                            grayscale={state.grayscale / 100}\r\n                                            sepia={state.sepia / 100}\r\n                                            saturate={state.saturate / 100}\r\n                                            contrast={state.contrast / 100}\r\n                                            hue={state.hueRotate}\r\n                                        />\r\n                                    )}\r\n                                    {texts.map((textObj, index) => (\r\n                                        <KonvaText\r\n                                            key={textObj.id}\r\n                                            text={textObj.text}\r\n                                            x={textObj.x}\r\n                                            y={textObj.y}\r\n                                            draggable\r\n                                            fill=\"black\"\r\n                                            fontSize={20}\r\n                                            onClick={handleTextClick}\r\n                                        />\r\n                                    ))}\r\n                                </Layer>\r\n                            </Stage>\r\n                            {selectedText && (\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={selectedText.text}\r\n                                    onChange={handleTextChange}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"toolbar\">\r\n                        <button onClick={leftRotate}><GrRotateLeft size={24} /></button>\r\n                        <button onClick={rightRotate}><GrRotateRight size={24} /></button>\r\n                        <button onClick={varticalFlip}><CgMergeVertical size={24} /></button>\r\n                        <button onClick={horizentalFlip}><CgMergeHorizontal size={24} /></button>\r\n                        <button onClick={undo}><IoMdUndo size={24} /></button>\r\n                        <button onClick={redo}><IoMdRedo size={24} /></button>\r\n                        <button onClick={imageCrop}><GrEdit size={24} /></button>\r\n                        <button onClick={enableDrawing}><GrEdit size={24} /></button>\r\n                        <button onClick={addText}><GrSuperscript size={24} /></button>\r\n                    </div>\r\n                    <div className=\"save_section\">\r\n                        <button onClick={saveImage}>Save Image</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}