{"ast":null,"code":"var _jsxFileName = \"D:\\\\screenshort-extension\\\\new1\\\\react-image-editor\\\\src\\\\component\\\\Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport './style/main.scss';\nimport { GrRotateLeft, GrRotateRight, GrEdit, GrSuperscript, GrDown } from 'react-icons/gr';\nimport { CgMergeVertical, CgMergeHorizontal } from 'react-icons/cg';\nimport { IoMdUndo, IoMdRedo, IoIosSave, IoIosImage } from 'react-icons/io';\nimport storeData from './LinkedList';\nimport logo from './style/logo.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const filterElement = [{\n    name: 'brightness',\n    maxValue: 200\n  }, {\n    name: 'grayscale',\n    maxValue: 100\n  }, {\n    name: 'sepia',\n    maxValue: 100\n  }, {\n    name: 'saturate',\n    maxValue: 200\n  }, {\n    name: 'contrast',\n    maxValue: 200\n  }, {\n    name: 'hueRotate',\n    maxValue: 360\n  }];\n  const [showDropdown, setShowDropdown] = useState(false);\n\n  const toggleDropdown = () => setShowDropdown(!showDropdown);\n\n  const [property, setProperty] = useState({\n    name: 'brightness',\n    maxValue: 200\n  });\n  const [details, setDetails] = useState(null);\n  const [drawing, setDrawing] = useState(false);\n  const [drawingEnabled, setDrawingEnabled] = useState(false);\n  const [text, setText] = useState({\n    value: '',\n    x: 50,\n    y: 50\n  });\n  const [editingText, setEditingText] = useState(false);\n  const canvasRef = useRef(null);\n  const [state, setState] = useState({\n    image: '',\n    brightness: 100,\n    grayscale: 0,\n    sepia: 0,\n    saturate: 100,\n    contrast: 100,\n    hueRotate: 0,\n    rotate: 0,\n    vartical: 1,\n    horizental: 1\n  });\n  useEffect(() => {\n    const storedImage = localStorage.getItem('screenshotUrl');\n\n    if (storedImage) {\n      const img = new Image();\n      img.src = storedImage;\n\n      img.onload = () => {\n        setDetails(img);\n        setState(prevState => ({ ...prevState,\n          image: storedImage\n        }));\n        storeData.insert({\n          image: storedImage,\n          brightness: 100,\n          grayscale: 0,\n          sepia: 0,\n          saturate: 100,\n          contrast: 100,\n          hueRotate: 0,\n          rotate: 0,\n          vartical: 1,\n          horizental: 1\n        });\n      };\n    }\n  }, []);\n  useEffect(() => {\n    if (details) {\n      drawImage();\n    }\n  }, [state, details, text]);\n\n  const drawImage = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    if (!details || !canvas) return; // Adjust the canvas size to match the image size\n\n    canvas.width = details.naturalWidth;\n    canvas.height = details.naturalHeight; // Clear the canvas before drawing\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height); // Apply filters and transformations\n\n    ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate(state.rotate * Math.PI / 180);\n    ctx.scale(state.vartical, state.horizental);\n    ctx.drawImage(details, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);\n    ctx.resetTransform(); // Draw the text if any\n\n    if (text.value) {\n      ctx.font = '30px Arial';\n      ctx.fillStyle = 'red';\n      ctx.fillText(text.value, text.x, text.y);\n    }\n  };\n\n  const inputHandle = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const leftRotate = () => {\n    setState(prevState => ({ ...prevState,\n      rotate: prevState.rotate - 90\n    }));\n    storeData.insert({ ...state,\n      rotate: state.rotate - 90\n    });\n  };\n\n  const rightRotate = () => {\n    setState(prevState => ({ ...prevState,\n      rotate: prevState.rotate + 90\n    }));\n    storeData.insert({ ...state,\n      rotate: state.rotate + 90\n    });\n  };\n\n  const varticalFlip = () => {\n    setState(prevState => ({ ...prevState,\n      vartical: prevState.vartical === 1 ? -1 : 1\n    }));\n    storeData.insert({ ...state,\n      vartical: state.vartical === 1 ? -1 : 1\n    });\n  };\n\n  const horizentalFlip = () => {\n    setState(prevState => ({ ...prevState,\n      horizental: prevState.horizental === 1 ? -1 : 1\n    }));\n    storeData.insert({ ...state,\n      horizental: state.horizental === 1 ? -1 : 1\n    });\n  };\n\n  const redo = () => {\n    const data = storeData.redoEdit();\n\n    if (data) {\n      setState(data);\n    }\n  };\n\n  const undo = () => {\n    const data = storeData.undoEdit();\n\n    if (data) {\n      setState(data);\n    }\n  };\n\n  const imageHandle = e => {\n    if (e.target.files.length !== 0) {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        const img = new Image();\n        img.src = reader.result;\n\n        img.onload = () => {\n          setDetails(img);\n          setState({ ...state,\n            image: reader.result\n          });\n          storeData.insert({\n            image: reader.result,\n            brightness: 100,\n            grayscale: 0,\n            sepia: 0,\n            saturate: 100,\n            contrast: 100,\n            hueRotate: 0,\n            rotate: 0,\n            vartical: 1,\n            horizental: 1\n          });\n        };\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  };\n\n  const imageCrop = () => {\n    if (!details || !crop || !canvasRef.current) return;\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const scaleX = details.naturalWidth / details.width;\n    const scaleY = details.naturalHeight / details.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    ctx.drawImage(details, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height);\n    const base64Url = canvas.toDataURL('image/jpeg');\n    setState({ ...state,\n      image: base64Url\n    });\n  };\n\n  const saveImage = () => {\n    if (!details) return; // Create an offscreen canvas for final image processing\n\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d'); // Set canvas dimensions to match the original image dimensions\n\n    canvas.width = details.naturalWidth;\n    canvas.height = details.naturalHeight; // Apply filters and transformations\n\n    ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate(state.rotate * Math.PI / 180);\n    ctx.scale(state.vartical, state.horizental);\n    ctx.drawImage(details, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);\n    ctx.resetTransform(); // Draw the text if any\n\n    if (text.value) {\n      ctx.font = '30px Arial';\n      ctx.fillStyle = 'red';\n      ctx.fillText(text.value, text.x, text.y);\n    } // Draw the current content of the main canvas (lines, etc.)\n\n\n    const mainCanvas = canvasRef.current;\n\n    if (mainCanvas) {\n      ctx.drawImage(mainCanvas, 0, 0, canvas.width, canvas.height);\n    } // Convert canvas content to a data URL and download it\n\n\n    const link = document.createElement('a');\n    link.download = 'image.jpg';\n    link.href = canvas.toDataURL('image/jpeg', 0.8);\n    link.click();\n  };\n\n  const handleMouseDown = () => {\n    if (!drawingEnabled) return;\n    setDrawing(true);\n  };\n\n  const handleMouseUp = () => {\n    setDrawing(false);\n  };\n\n  const handleMouseMove = e => {\n    if (!drawing || !drawingEnabled || !canvasRef.current) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.strokeStyle = 'blue';\n    ctx.lineWidth = 5;\n    ctx.lineCap = 'round';\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n  };\n\n  const handleTextChange = e => {\n    setText({ ...text,\n      value: e.target.value\n    });\n  };\n\n  const handleTextMouseDown = e => {\n    if (!editingText) return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setText({ ...text,\n      x,\n      y\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"Logo\",\n        className: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `dropdown ${showDropdown ? 'show-dropdown' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropbtn\",\n          onClick: toggleDropdown,\n          children: \"Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-content\",\n          children: filterElement.map((v, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setProperty(v),\n            children: v.name\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slider\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: property.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          name: property.name,\n          max: property.maxValue,\n          value: state[property.name],\n          onChange: inputHandle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: imageHandle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(IoIosImage, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-button\",\n            onClick: leftRotate,\n            children: /*#__PURE__*/_jsxDEV(GrRotateLeft, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-button\",\n            onClick: rightRotate,\n            children: /*#__PURE__*/_jsxDEV(GrRotateRight, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-button\",\n            onClick: varticalFlip,\n            children: /*#__PURE__*/_jsxDEV(CgMergeVertical, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-button\",\n            onClick: horizentalFlip,\n            children: /*#__PURE__*/_jsxDEV(CgMergeHorizontal, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-button\",\n            onClick: undo,\n            children: /*#__PURE__*/_jsxDEV(IoMdUndo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            onClick: varticalFlip,\n            children: /*#__PURE__*/_jsxDEV(CgMergeVertical, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            onClick: horizentalFlip,\n            children: /*#__PURE__*/_jsxDEV(CgMergeHorizontal, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            onClick: undo,\n            children: /*#__PURE__*/_jsxDEV(IoMdUndo, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            onClick: redo,\n            children: /*#__PURE__*/_jsxDEV(IoMdRedo, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            onClick: () => setDrawingEnabled(!drawingEnabled),\n            children: /*#__PURE__*/_jsxDEV(GrEdit, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            onClick: () => setEditingText(!editingText),\n            children: /*#__PURE__*/_jsxDEV(GrSuperscript, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            onClick: imageCrop,\n            children: /*#__PURE__*/_jsxDEV(GrDown, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-container\",\n            onClick: saveImage,\n            children: /*#__PURE__*/_jsxDEV(IoIosSave, {\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          className: \"canvas\",\n          onMouseDown: handleMouseDown,\n          onMouseUp: handleMouseUp,\n          onMouseMove: handleMouseMove\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 21\n        }, this), editingText && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: text.value,\n          onChange: handleTextChange,\n          onMouseDown: handleTextMouseDown,\n          style: {\n            position: 'absolute',\n            left: `${text.x}px`,\n            top: `${text.y}px`,\n            border: 'none',\n            background: 'transparent',\n            color: 'red',\n            fontSize: '30px',\n            outline: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"6LvDr79D9+x/jBJ+bKw6MK0YWKQ=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useRef","useEffect","GrRotateLeft","GrRotateRight","GrEdit","GrSuperscript","GrDown","CgMergeVertical","CgMergeHorizontal","IoMdUndo","IoMdRedo","IoIosSave","IoIosImage","storeData","logo","Main","filterElement","name","maxValue","showDropdown","setShowDropdown","toggleDropdown","property","setProperty","details","setDetails","drawing","setDrawing","drawingEnabled","setDrawingEnabled","text","setText","value","x","y","editingText","setEditingText","canvasRef","state","setState","image","brightness","grayscale","sepia","saturate","contrast","hueRotate","rotate","vartical","horizental","storedImage","localStorage","getItem","img","Image","src","onload","prevState","insert","drawImage","canvas","current","ctx","getContext","width","naturalWidth","height","naturalHeight","clearRect","filter","translate","Math","PI","scale","resetTransform","font","fillStyle","fillText","inputHandle","e","target","leftRotate","rightRotate","varticalFlip","horizentalFlip","redo","data","redoEdit","undo","undoEdit","imageHandle","files","length","reader","FileReader","result","readAsDataURL","imageCrop","crop","document","createElement","scaleX","scaleY","base64Url","toDataURL","saveImage","mainCanvas","link","download","href","click","handleMouseDown","handleMouseUp","handleMouseMove","strokeStyle","lineWidth","lineCap","rect","getBoundingClientRect","clientX","left","clientY","top","lineTo","stroke","beginPath","moveTo","handleTextChange","handleTextMouseDown","map","v","i","position","border","background","color","fontSize","outline"],"sources":["D:/screenshort-extension/new1/react-image-editor/src/component/Main.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './style/main.scss';\r\nimport { GrRotateLeft, GrRotateRight, GrEdit, GrSuperscript, GrDown } from 'react-icons/gr';\r\nimport { CgMergeVertical, CgMergeHorizontal } from 'react-icons/cg';\r\nimport { IoMdUndo, IoMdRedo, IoIosSave, IoIosImage } from 'react-icons/io';\r\nimport storeData from './LinkedList';\r\nimport logo from './style/logo.png';\r\n\r\nconst Main = () => {\r\n    const filterElement = [\r\n        { name: 'brightness', maxValue: 200 },\r\n        { name: 'grayscale', maxValue: 100 },\r\n        { name: 'sepia', maxValue: 100 },\r\n        { name: 'saturate', maxValue: 200 },\r\n        { name: 'contrast', maxValue: 200 },\r\n        { name: 'hueRotate', maxValue: 360 }\r\n    ];\r\n\r\n    const [showDropdown, setShowDropdown] = useState(false);\r\n    const toggleDropdown = () => setShowDropdown(!showDropdown);\r\n    const [property, setProperty] = useState({ name: 'brightness', maxValue: 200 });\r\n    const [details, setDetails] = useState(null);\r\n    const [drawing, setDrawing] = useState(false);\r\n    const [drawingEnabled, setDrawingEnabled] = useState(false);\r\n    const [text, setText] = useState({ value: '', x: 50, y: 50 });\r\n    const [editingText, setEditingText] = useState(false);\r\n    const canvasRef = useRef(null);\r\n\r\n    const [state, setState] = useState({\r\n        image: '',\r\n        brightness: 100,\r\n        grayscale: 0,\r\n        sepia: 0,\r\n        saturate: 100,\r\n        contrast: 100,\r\n        hueRotate: 0,\r\n        rotate: 0,\r\n        vartical: 1,\r\n        horizental: 1\r\n    });\r\n\r\n    useEffect(() => {\r\n        const storedImage = localStorage.getItem('screenshotUrl');\r\n        if (storedImage) {\r\n            const img = new Image();\r\n            img.src = storedImage;\r\n            img.onload = () => {\r\n                setDetails(img);\r\n                setState((prevState) => ({\r\n                    ...prevState,\r\n                    image: storedImage\r\n                }));\r\n                storeData.insert({\r\n                    image: storedImage,\r\n                    brightness: 100,\r\n                    grayscale: 0,\r\n                    sepia: 0,\r\n                    saturate: 100,\r\n                    contrast: 100,\r\n                    hueRotate: 0,\r\n                    rotate: 0,\r\n                    vartical: 1,\r\n                    horizental: 1\r\n                });\r\n            };\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (details) {\r\n            drawImage();\r\n        }\r\n    }, [state, details, text]);\r\n\r\n    const drawImage = () => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!details || !canvas) return;\r\n\r\n        // Adjust the canvas size to match the image size\r\n        canvas.width = details.naturalWidth;\r\n        canvas.height = details.naturalHeight;\r\n\r\n        // Clear the canvas before drawing\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        // Apply filters and transformations\r\n        ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\r\n        ctx.translate(canvas.width / 2, canvas.height / 2);\r\n        ctx.rotate(state.rotate * Math.PI / 180);\r\n        ctx.scale(state.vartical, state.horizental);\r\n        ctx.drawImage(details, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);\r\n        ctx.resetTransform();\r\n\r\n        // Draw the text if any\r\n        if (text.value) {\r\n            ctx.font = '30px Arial';\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillText(text.value, text.x, text.y);\r\n        }\r\n    };\r\n\r\n    const inputHandle = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const leftRotate = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            rotate: prevState.rotate - 90\r\n        }));\r\n        storeData.insert({ ...state, rotate: state.rotate - 90 });\r\n    };\r\n\r\n    const rightRotate = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            rotate: prevState.rotate + 90\r\n        }));\r\n        storeData.insert({ ...state, rotate: state.rotate + 90 });\r\n    };\r\n\r\n    const varticalFlip = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            vartical: prevState.vartical === 1 ? -1 : 1\r\n        }));\r\n        storeData.insert({ ...state, vartical: state.vartical === 1 ? -1 : 1 });\r\n    };\r\n\r\n    const horizentalFlip = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            horizental: prevState.horizental === 1 ? -1 : 1\r\n        }));\r\n        storeData.insert({ ...state, horizental: state.horizental === 1 ? -1 : 1 });\r\n    };\r\n\r\n    const redo = () => {\r\n        const data = storeData.redoEdit();\r\n        if (data) {\r\n            setState(data);\r\n        }\r\n    };\r\n\r\n    const undo = () => {\r\n        const data = storeData.undoEdit();\r\n        if (data) {\r\n            setState(data);\r\n        }\r\n    };\r\n\r\n    const imageHandle = (e) => {\r\n        if (e.target.files.length !== 0) {\r\n            const reader = new FileReader();\r\n            reader.onload = () => {\r\n                const img = new Image();\r\n                img.src = reader.result;\r\n                img.onload = () => {\r\n                    setDetails(img);\r\n                    setState({\r\n                        ...state,\r\n                        image: reader.result\r\n                    });\r\n                    storeData.insert({\r\n                        image: reader.result,\r\n                        brightness: 100,\r\n                        grayscale: 0,\r\n                        sepia: 0,\r\n                        saturate: 100,\r\n                        contrast: 100,\r\n                        hueRotate: 0,\r\n                        rotate: 0,\r\n                        vartical: 1,\r\n                        horizental: 1\r\n                    });\r\n                };\r\n            };\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const imageCrop = () => {\r\n        if (!details || !crop || !canvasRef.current) return;\r\n\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        const scaleX = details.naturalWidth / details.width;\r\n        const scaleY = details.naturalHeight / details.height;\r\n\r\n        canvas.width = crop.width;\r\n        canvas.height = crop.height;\r\n\r\n        ctx.drawImage(\r\n            details,\r\n            crop.x * scaleX,\r\n            crop.y * scaleY,\r\n            crop.width * scaleX,\r\n            crop.height * scaleY,\r\n            0,\r\n            0,\r\n            crop.width,\r\n            crop.height\r\n        );\r\n\r\n        const base64Url = canvas.toDataURL('image/jpeg');\r\n        setState({\r\n            ...state,\r\n            image: base64Url\r\n        });\r\n    };\r\n\r\n    const saveImage = () => {\r\n        if (!details) return;\r\n\r\n        // Create an offscreen canvas for final image processing\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        // Set canvas dimensions to match the original image dimensions\r\n        canvas.width = details.naturalWidth;\r\n        canvas.height = details.naturalHeight;\r\n\r\n        // Apply filters and transformations\r\n        ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\r\n        ctx.translate(canvas.width / 2, canvas.height / 2);\r\n        ctx.rotate(state.rotate * Math.PI / 180);\r\n        ctx.scale(state.vartical, state.horizental);\r\n        ctx.drawImage(details, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);\r\n        ctx.resetTransform();\r\n\r\n        // Draw the text if any\r\n        if (text.value) {\r\n            ctx.font = '30px Arial';\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillText(text.value, text.x, text.y);\r\n        }\r\n\r\n        // Draw the current content of the main canvas (lines, etc.)\r\n        const mainCanvas = canvasRef.current;\r\n        if (mainCanvas) {\r\n            ctx.drawImage(mainCanvas, 0, 0, canvas.width, canvas.height);\r\n        }\r\n\r\n        // Convert canvas content to a data URL and download it\r\n        const link = document.createElement('a');\r\n        link.download = 'image.jpg';\r\n        link.href = canvas.toDataURL('image/jpeg', 0.8);\r\n        link.click();\r\n    };\r\n\r\n    const handleMouseDown = () => {\r\n        if (!drawingEnabled) return;\r\n        setDrawing(true);\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n        setDrawing(false);\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!drawing || !drawingEnabled || !canvasRef.current) return;\r\n\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.strokeStyle = 'blue';\r\n        ctx.lineWidth = 5;\r\n        ctx.lineCap = 'round';\r\n\r\n        const rect = canvas.getBoundingClientRect();\r\n        const x = e.clientX - rect.left;\r\n        const y = e.clientY - rect.top;\r\n\r\n        ctx.lineTo(x, y);\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, y);\r\n    };\r\n\r\n    const handleTextChange = (e) => {\r\n        setText({ ...text, value: e.target.value });\r\n    };\r\n\r\n    const handleTextMouseDown = (e) => {\r\n        if (!editingText) return;\r\n        const canvas = canvasRef.current;\r\n        const rect = canvas.getBoundingClientRect();\r\n        const x = e.clientX - rect.left;\r\n        const y = e.clientY - rect.top;\r\n        setText({ ...text, x, y });\r\n    };\r\n\r\n    return (\r\n        <div className=\"main-content\">\r\n            <header className=\"header\">\r\n                <img src={logo} alt=\"Logo\" className=\"logo\" />\r\n                <div className={`dropdown ${showDropdown ? 'show-dropdown' : ''}`}>\r\n                    <button className=\"dropbtn\" onClick={toggleDropdown}>\r\n                        Filters\r\n                    </button>\r\n                    <div className=\"dropdown-content\">\r\n                        {filterElement.map((v, i) => (\r\n                            <button key={i} onClick={() => setProperty(v)}>\r\n                                {v.name}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"slider\">\r\n                    <label>{property.name}</label>\r\n                    <input\r\n                        type=\"range\"\r\n                        name={property.name}\r\n                        max={property.maxValue}\r\n                        value={state[property.name]}\r\n                        onChange={inputHandle}\r\n                    />\r\n                </div>\r\n            </header>\r\n\r\n            <div className=\"app-content\">\r\n                <div className=\"sidebar\">\r\n                    <div className=\"sidebar-content\">\r\n                        <div className=\"icon-container\">\r\n                            <input type=\"file\" accept=\"image/*\" onChange={imageHandle} />\r\n                            <IoIosImage className=\"icon\" />\r\n                        </div>\r\n                        <button className=\"icon-button\" onClick={leftRotate}>\r\n                            <GrRotateLeft />\r\n                        </button>\r\n                        <button className=\"icon-button\" onClick={rightRotate}>\r\n                            <GrRotateRight />\r\n                        </button>\r\n                        <button className=\"icon-button\" onClick={varticalFlip}>\r\n                            <CgMergeVertical />\r\n                        </button>\r\n                        <button className=\"icon-button\" onClick={horizentalFlip}>\r\n                            <CgMergeHorizontal />\r\n                        </button>\r\n\r\n                        <button className=\"icon-button\" onClick={undo}>\r\n                            <IoMdUndo />\r\n                        </button>\r\n\r\n                        {/* <div className=\"icon-container\" onClick={leftRotate}>\r\n                            <GrRotateLeft className=\"icon\" />\r\n                        </div> */}\r\n                        {/* <div className=\"icon-container\" onClick={rightRotate}>\r\n                            <GrRotateRight className=\"icon\" />\r\n                        </div> */}\r\n                        <div className=\"icon-container\" onClick={varticalFlip}>\r\n                            <CgMergeVertical className=\"icon\" />\r\n                        </div>\r\n                        <div className=\"icon-container\" onClick={horizentalFlip}>\r\n                            <CgMergeHorizontal className=\"icon\" />\r\n                        </div>\r\n                        <div className=\"icon-container\" onClick={undo}>\r\n                            <IoMdUndo className=\"icon\" />\r\n                        </div>\r\n                        <div className=\"icon-container\" onClick={redo}>\r\n                            <IoMdRedo className=\"icon\" />\r\n                        </div>\r\n                        <div className=\"icon-container\" onClick={() => setDrawingEnabled(!drawingEnabled)}>\r\n                            <GrEdit className=\"icon\" />\r\n                        </div>\r\n                        <div className=\"icon-container\" onClick={() => setEditingText(!editingText)}>\r\n                            <GrSuperscript className=\"icon\" />\r\n                        </div>\r\n                        <div className=\"icon-container\" onClick={imageCrop}>\r\n                            <GrDown className=\"icon\" />\r\n                        </div>\r\n                        <div className=\"icon-container\" onClick={saveImage}>\r\n                            <IoIosSave className=\"icon\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"canvas-container\">\r\n                    <canvas\r\n                        ref={canvasRef}\r\n                        className=\"canvas\"\r\n                        onMouseDown={handleMouseDown}\r\n                        onMouseUp={handleMouseUp}\r\n                        onMouseMove={handleMouseMove}\r\n                    ></canvas>\r\n                    {editingText && (\r\n                        <input\r\n                            type=\"text\"\r\n                            value={text.value}\r\n                            onChange={handleTextChange}\r\n                            onMouseDown={handleTextMouseDown}\r\n                            style={{\r\n                                position: 'absolute',\r\n                                left: `${text.x}px`,\r\n                                top: `${text.y}px`,\r\n                                border: 'none',\r\n                                background: 'transparent',\r\n                                color: 'red',\r\n                                fontSize: '30px',\r\n                                outline: 'none'\r\n                            }}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}