{"ast":null,"code":"var _jsxFileName = \"D:\\\\screenshort-extension\\\\image-editor-react\\\\src\\\\component\\\\Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport './style/main.scss';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport { GrRotateLeft, GrRotateRight, GrEdit } from 'react-icons/gr';\nimport { CgMergeVertical, CgMergeHorizontal } from 'react-icons/cg';\nimport { IoMdUndo, IoMdRedo, IoIosSave, IoIosImage } from 'react-icons/io';\nimport storeData from './LinkedList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const [crop, setCrop] = useState({});\n  const [completedCrop, setCompletedCrop] = useState(null);\n  const [imageSrc, setImageSrc] = useState(null);\n  const [details, setDetails] = useState(null);\n  const [text, setText] = useState({\n    value: '',\n    x: 50,\n    y: 50\n  });\n  const [drawing, setDrawing] = useState(false);\n  const [state, setState] = useState({\n    image: '',\n    brightness: 100,\n    grayscale: 0,\n    sepia: 0,\n    saturate: 100,\n    contrast: 100,\n    hueRotate: 0,\n    rotate: 0,\n    vartical: 1,\n    horizental: 1\n  });\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    if (details) {\n      drawImage();\n    }\n  }, [state, details, crop, text]);\n\n  const drawImage = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    if (!details || !canvas) return;\n    const {\n      width,\n      height\n    } = canvas;\n    ctx.clearRect(0, 0, width, height);\n    ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\n    ctx.translate(width / 2, height / 2);\n    ctx.rotate(state.rotate * Math.PI / 180);\n    ctx.scale(state.vartical, state.horizental);\n    ctx.drawImage(details, -width / 2, -height / 2, width, height);\n    ctx.resetTransform();\n\n    if (text.value) {\n      ctx.font = '30px Arial';\n      ctx.fillStyle = 'red';\n      ctx.fillText(text.value, text.x, text.y);\n    }\n  };\n\n  const handleCropChange = newCrop => {\n    setCrop(newCrop);\n  };\n\n  const handleCropComplete = crop => {\n    setCompletedCrop(crop);\n  };\n\n  const handleImageLoad = image => {\n    setDetails(image);\n  };\n\n  const inputHandle = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const leftRotate = () => {\n    setState(prevState => ({ ...prevState,\n      rotate: prevState.rotate - 90\n    }));\n    storeData.insert({ ...state,\n      rotate: state.rotate - 90\n    });\n  };\n\n  const rightRotate = () => {\n    setState(prevState => ({ ...prevState,\n      rotate: prevState.rotate + 90\n    }));\n    storeData.insert({ ...state,\n      rotate: state.rotate + 90\n    });\n  };\n\n  const varticalFlip = () => {\n    setState(prevState => ({ ...prevState,\n      vartical: prevState.vartical === 1 ? -1 : 1\n    }));\n    storeData.insert({ ...state,\n      vartical: state.vartical === 1 ? -1 : 1\n    });\n  };\n\n  const horizentalFlip = () => {\n    setState(prevState => ({ ...prevState,\n      horizental: prevState.horizental === 1 ? -1 : 1\n    }));\n    storeData.insert({ ...state,\n      horizental: state.horizental === 1 ? -1 : 1\n    });\n  };\n\n  const redo = () => {\n    const data = storeData.redoEdit();\n\n    if (data) {\n      setState(data);\n    }\n  };\n\n  const undo = () => {\n    const data = storeData.undoEdit();\n\n    if (data) {\n      setState(data);\n    }\n  };\n\n  const handleImageChange = e => {\n    if (e.target.files.length !== 0) {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        const img = new Image();\n        img.src = reader.result;\n\n        img.onload = () => {\n          setDetails(img);\n          setState({ ...state,\n            image: reader.result\n          });\n          storeData.insert({\n            image: reader.result,\n            brightness: 100,\n            grayscale: 0,\n            sepia: 0,\n            saturate: 100,\n            contrast: 100,\n            hueRotate: 0,\n            rotate: 0,\n            vartical: 1,\n            horizental: 1\n          });\n        };\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  };\n\n  const imageCrop = () => {\n    if (!details || !completedCrop || !canvasRef.current) return;\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const scaleX = details.naturalWidth / details.width;\n    const scaleY = details.naturalHeight / details.height;\n    canvas.width = completedCrop.width;\n    canvas.height = completedCrop.height;\n    ctx.drawImage(details, completedCrop.x * scaleX, completedCrop.y * scaleY, completedCrop.width * scaleX, completedCrop.height * scaleY, 0, 0, completedCrop.width, completedCrop.height);\n    const base64Url = canvas.toDataURL('image/jpeg');\n    setState({ ...state,\n      image: base64Url\n    });\n  };\n\n  const saveImage = () => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (!details) return;\n    canvas.width = details.naturalWidth;\n    canvas.height = details.naturalHeight;\n    ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate(state.rotate * Math.PI / 180);\n    ctx.scale(state.vartical, state.horizental);\n    ctx.drawImage(details, -canvas.width / 2, -canvas.height / 2, canvas.width, canvas.height);\n    ctx.resetTransform();\n\n    if (text.value) {\n      ctx.font = '30px Arial';\n      ctx.fillStyle = 'red';\n      ctx.fillText(text.value, text.x, text.y);\n    }\n\n    const link = document.createElement('a');\n    link.download = 'image_edit.jpg';\n    link.href = canvas.toDataURL();\n    link.click();\n  };\n\n  const startDrawing = e => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.beginPath();\n      ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n    }\n  };\n\n  const draw = e => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n      ctx.strokeStyle = '#000000'; // Set the pencil color (black)\n\n      ctx.lineWidth = 2; // Set the pencil width\n\n      ctx.lineCap = 'round'; // Set the line cap for smoother lines\n\n      ctx.stroke();\n    }\n  };\n\n  const stopDrawing = () => {\n    if (drawing) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.closePath();\n    }\n  };\n\n  const enableDrawing = () => {\n    setDrawing(!drawing);\n  };\n\n  const textAdd = () => {\n    setText({\n      value: 'Hello World',\n      x: 50,\n      y: 50\n    });\n  };\n\n  const handleTextChange = e => {\n    setText({ ...text,\n      value: e.target.value\n    });\n  };\n\n  const handleTextDrag = e => {\n    setText({ ...text,\n      x: e.nativeEvent.offsetX,\n      y: e.nativeEvent.offsetY\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"image-editor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: undo,\n          children: [/*#__PURE__*/_jsxDEV(IoMdUndo, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 44\n          }, this), \"Undo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: redo,\n          children: [/*#__PURE__*/_jsxDEV(IoMdRedo, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 44\n          }, this), \"Redo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveImage,\n          children: [/*#__PURE__*/_jsxDEV(IoIosSave, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 49\n          }, this), \"Save\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Tools\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"file-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: handleImageChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(IoIosImage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this), \"Upload Image\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: leftRotate,\n            children: [/*#__PURE__*/_jsxDEV(GrRotateLeft, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 54\n            }, this), \"Rotate Left\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: rightRotate,\n            children: [/*#__PURE__*/_jsxDEV(GrRotateRight, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 55\n            }, this), \"Rotate Right\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: varticalFlip,\n            children: [/*#__PURE__*/_jsxDEV(CgMergeVertical, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 56\n            }, this), \"Vertical Flip\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: horizentalFlip,\n            children: [/*#__PURE__*/_jsxDEV(CgMergeHorizontal, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 58\n            }, this), \"Horizontal Flip\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: enableDrawing,\n            children: [/*#__PURE__*/_jsxDEV(GrEdit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 57\n            }, this), \"Pencil\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: textAdd,\n            children: \"Add Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Brightness\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              name: \"brightness\",\n              min: \"0\",\n              max: \"200\",\n              value: state.brightness,\n              onChange: inputHandle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Contrast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              name: \"contrast\",\n              min: \"0\",\n              max: \"200\",\n              value: state.contrast,\n              onChange: inputHandle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Saturation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              name: \"saturate\",\n              min: \"0\",\n              max: \"200\",\n              value: state.saturate,\n              onChange: inputHandle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Grayscale\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              name: \"grayscale\",\n              min: \"0\",\n              max: \"100\",\n              value: state.grayscale,\n              onChange: inputHandle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Sepia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              name: \"sepia\",\n              min: \"0\",\n              max: \"100\",\n              value: state.sepia,\n              onChange: inputHandle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Hue Rotate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              name: \"hueRotate\",\n              min: \"0\",\n              max: \"360\",\n              value: state.hueRotate,\n              onChange: inputHandle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor\",\n        children: [/*#__PURE__*/_jsxDEV(ReactCrop, {\n          src: imageSrc,\n          crop: crop,\n          onChange: handleCropChange,\n          onComplete: handleCropComplete,\n          onImageLoaded: handleImageLoad\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          width: details ? details.naturalWidth : 0,\n          height: details ? details.naturalHeight : 0,\n          onMouseDown: startDrawing,\n          onMouseMove: draw,\n          onMouseUp: stopDrawing\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: imageCrop,\n          children: \"Crop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"2/oXFSNLgTnDpu0FMFXCSzOslUg=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ReactCrop","GrRotateLeft","GrRotateRight","GrEdit","CgMergeVertical","CgMergeHorizontal","IoMdUndo","IoMdRedo","IoIosSave","IoIosImage","storeData","Main","crop","setCrop","completedCrop","setCompletedCrop","imageSrc","setImageSrc","details","setDetails","text","setText","value","x","y","drawing","setDrawing","state","setState","image","brightness","grayscale","sepia","saturate","contrast","hueRotate","rotate","vartical","horizental","canvasRef","drawImage","canvas","current","ctx","getContext","width","height","clearRect","filter","translate","Math","PI","scale","resetTransform","font","fillStyle","fillText","handleCropChange","newCrop","handleCropComplete","handleImageLoad","inputHandle","e","target","name","leftRotate","prevState","insert","rightRotate","varticalFlip","horizentalFlip","redo","data","redoEdit","undo","undoEdit","handleImageChange","files","length","reader","FileReader","onload","img","Image","src","result","readAsDataURL","imageCrop","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","base64Url","toDataURL","saveImage","link","download","href","click","startDrawing","beginPath","moveTo","nativeEvent","offsetX","offsetY","draw","lineTo","strokeStyle","lineWidth","lineCap","stroke","stopDrawing","closePath","enableDrawing","textAdd","handleTextChange","handleTextDrag"],"sources":["D:/screenshort-extension/image-editor-react/src/component/Main.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './style/main.scss';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport { GrRotateLeft, GrRotateRight, GrEdit } from 'react-icons/gr';\r\nimport { CgMergeVertical, CgMergeHorizontal } from 'react-icons/cg';\r\nimport { IoMdUndo, IoMdRedo, IoIosSave, IoIosImage } from 'react-icons/io';\r\nimport storeData from './LinkedList';\r\n\r\nconst Main = () => {\r\n    const [crop, setCrop] = useState({});\r\n    const [completedCrop, setCompletedCrop] = useState(null);\r\n    const [imageSrc, setImageSrc] = useState(null);\r\n    const [details, setDetails] = useState(null);\r\n    const [text, setText] = useState({ value: '', x: 50, y: 50 });\r\n    const [drawing, setDrawing] = useState(false);\r\n    const [state, setState] = useState({\r\n        image: '',\r\n        brightness: 100,\r\n        grayscale: 0,\r\n        sepia: 0,\r\n        saturate: 100,\r\n        contrast: 100,\r\n        hueRotate: 0,\r\n        rotate: 0,\r\n        vartical: 1,\r\n        horizental: 1\r\n    });\r\n    const canvasRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (details) {\r\n            drawImage();\r\n        }\r\n    }, [state, details, crop, text]);\r\n\r\n    const drawImage = () => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        if (!details || !canvas) return;\r\n        \r\n        const { width, height } = canvas;\r\n        ctx.clearRect(0, 0, width, height);\r\n\r\n        ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\r\n        ctx.translate(width / 2, height / 2);\r\n        ctx.rotate(state.rotate * Math.PI / 180);\r\n        ctx.scale(state.vartical, state.horizental);\r\n        ctx.drawImage(details, -width / 2, -height / 2, width, height);\r\n        ctx.resetTransform();\r\n        \r\n        if (text.value) {\r\n            ctx.font = '30px Arial';\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillText(text.value, text.x, text.y);\r\n        }\r\n    };\r\n\r\n    const handleCropChange = (newCrop) => {\r\n        setCrop(newCrop);\r\n    };\r\n\r\n    const handleCropComplete = (crop) => {\r\n        setCompletedCrop(crop);\r\n    };\r\n\r\n    const handleImageLoad = (image) => {\r\n        setDetails(image);\r\n    };\r\n\r\n    const inputHandle = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const leftRotate = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            rotate: prevState.rotate - 90\r\n        }));\r\n        storeData.insert({...state, rotate: state.rotate - 90});\r\n    };\r\n\r\n    const rightRotate = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            rotate: prevState.rotate + 90\r\n        }));\r\n        storeData.insert({...state, rotate: state.rotate + 90});\r\n    };\r\n\r\n    const varticalFlip = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            vartical: prevState.vartical === 1 ? -1 : 1\r\n        }));\r\n        storeData.insert({...state, vartical: state.vartical === 1 ? -1 : 1});\r\n    };\r\n\r\n    const horizentalFlip = () => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            horizental: prevState.horizental === 1 ? -1 : 1\r\n        }));\r\n        storeData.insert({...state, horizental: state.horizental === 1 ? -1 : 1});\r\n    };\r\n\r\n    const redo = () => {\r\n        const data = storeData.redoEdit();\r\n        if (data) {\r\n            setState(data);\r\n        }\r\n    };\r\n\r\n    const undo = () => {\r\n        const data = storeData.undoEdit();\r\n        if (data) {\r\n            setState(data);\r\n        }\r\n    };\r\n\r\n    const handleImageChange = (e) => {\r\n        if (e.target.files.length !== 0) {\r\n            const reader = new FileReader();\r\n            reader.onload = () => {\r\n                const img = new Image();\r\n                img.src = reader.result;\r\n                img.onload = () => {\r\n                    setDetails(img);\r\n                    setState({\r\n                        ...state,\r\n                        image: reader.result\r\n                    });\r\n                    storeData.insert({\r\n                        image: reader.result,\r\n                        brightness: 100,\r\n                        grayscale: 0,\r\n                        sepia: 0,\r\n                        saturate: 100,\r\n                        contrast: 100,\r\n                        hueRotate: 0,\r\n                        rotate: 0,\r\n                        vartical: 1,\r\n                        horizental: 1\r\n                    });\r\n                };\r\n            };\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const imageCrop = () => {\r\n        if (!details || !completedCrop || !canvasRef.current) return;\r\n        \r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        const scaleX = details.naturalWidth / details.width;\r\n        const scaleY = details.naturalHeight / details.height;\r\n\r\n        canvas.width = completedCrop.width;\r\n        canvas.height = completedCrop.height;\r\n\r\n        ctx.drawImage(\r\n            details,\r\n            completedCrop.x * scaleX,\r\n            completedCrop.y * scaleY,\r\n            completedCrop.width * scaleX,\r\n            completedCrop.height * scaleY,\r\n            0,\r\n            0,\r\n            completedCrop.width,\r\n            completedCrop.height\r\n        );\r\n\r\n        const base64Url = canvas.toDataURL('image/jpeg');\r\n        setState({\r\n            ...state,\r\n            image: base64Url\r\n        });\r\n    };\r\n\r\n    const saveImage = () => {\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        if (!details) return;\r\n\r\n        canvas.width = details.naturalWidth;\r\n        canvas.height = details.naturalHeight;\r\n        \r\n        ctx.filter = `brightness(${state.brightness}%) sepia(${state.sepia}%) saturate(${state.saturate}%) contrast(${state.contrast}%) grayscale(${state.grayscale}%) hue-rotate(${state.hueRotate}deg)`;\r\n        ctx.translate(canvas.width / 2, canvas.height / 2);\r\n        ctx.rotate(state.rotate * Math.PI / 180);\r\n        ctx.scale(state.vartical, state.horizental);\r\n        ctx.drawImage(\r\n            details,\r\n            -canvas.width / 2,\r\n            -canvas.height / 2,\r\n            canvas.width,\r\n            canvas.height\r\n        );\r\n        ctx.resetTransform();\r\n        \r\n        if (text.value) {\r\n            ctx.font = '30px Arial';\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillText(text.value, text.x, text.y);\r\n        }\r\n\r\n        const link = document.createElement('a');\r\n        link.download = 'image_edit.jpg';\r\n        link.href = canvas.toDataURL();\r\n        link.click();\r\n    };\r\n\r\n    const startDrawing = (e) => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.beginPath();\r\n            ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n        }\r\n    };\r\n    \r\n    const draw = (e) => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n            ctx.strokeStyle = '#000000'; // Set the pencil color (black)\r\n            ctx.lineWidth = 2; // Set the pencil width\r\n            ctx.lineCap = 'round'; // Set the line cap for smoother lines\r\n            ctx.stroke();\r\n        }\r\n    };\r\n    \r\n    const stopDrawing = () => {\r\n        if (drawing) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.closePath();\r\n        }\r\n    };\r\n\r\n    const enableDrawing = () => {\r\n        setDrawing(!drawing);\r\n    };    \r\n\r\n    const textAdd = () => {\r\n        setText({ value: 'Hello World', x: 50, y: 50 });\r\n    };\r\n\r\n    const handleTextChange = (e) => {\r\n        setText({ ...text, value: e.target.value });\r\n    };\r\n\r\n    const handleTextDrag = (e) => {\r\n        setText({ ...text, x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY });\r\n    };\r\n\r\n    return (\r\n        <div className=\"image-editor\">\r\n            <div className=\"header\">\r\n                <div className=\"header-buttons\">\r\n                    <button onClick={undo}><IoMdUndo />Undo</button>\r\n                    <button onClick={redo}><IoMdRedo />Redo</button>\r\n                    <button onClick={saveImage}><IoIosSave />Save</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"main-content\">\r\n                <div className=\"sidebar\">\r\n                    <h2>Tools</h2>\r\n                    <div className=\"sidebar-buttons\">\r\n                        <label className=\"file-input\">\r\n                            <input type=\"file\" onChange={handleImageChange} />\r\n                            <IoIosImage />Upload Image\r\n                        </label>\r\n                        <button onClick={leftRotate}><GrRotateLeft />Rotate Left</button>\r\n                        <button onClick={rightRotate}><GrRotateRight />Rotate Right</button>\r\n                        <button onClick={varticalFlip}><CgMergeVertical />Vertical Flip</button>\r\n                        <button onClick={horizentalFlip}><CgMergeHorizontal />Horizontal Flip</button>\r\n                        <button onClick={enableDrawing}><GrEdit />Pencil</button>\r\n                        <button onClick={textAdd}>Add Text</button>\r\n                        <div className=\"filter-controls\">\r\n                            <label>Brightness</label>\r\n                            <input type=\"range\" name=\"brightness\" min=\"0\" max=\"200\" value={state.brightness} onChange={inputHandle} />\r\n                            <label>Contrast</label>\r\n                            <input type=\"range\" name=\"contrast\" min=\"0\" max=\"200\" value={state.contrast} onChange={inputHandle} />\r\n                            <label>Saturation</label>\r\n                            <input type=\"range\" name=\"saturate\" min=\"0\" max=\"200\" value={state.saturate} onChange={inputHandle} />\r\n                            <label>Grayscale</label>\r\n                            <input type=\"range\" name=\"grayscale\" min=\"0\" max=\"100\" value={state.grayscale} onChange={inputHandle} />\r\n                            <label>Sepia</label>\r\n                            <input type=\"range\" name=\"sepia\" min=\"0\" max=\"100\" value={state.sepia} onChange={inputHandle} />\r\n                            <label>Hue Rotate</label>\r\n                            <input type=\"range\" name=\"hueRotate\" min=\"0\" max=\"360\" value={state.hueRotate} onChange={inputHandle} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"editor\">\r\n                    <ReactCrop\r\n                        src={imageSrc}\r\n                        crop={crop}\r\n                        onChange={handleCropChange}\r\n                        onComplete={handleCropComplete}\r\n                        onImageLoaded={handleImageLoad}\r\n                    />\r\n                    <canvas\r\n                        ref={canvasRef}\r\n                        width={details ? details.naturalWidth : 0}\r\n                        height={details ? details.naturalHeight : 0}\r\n                        onMouseDown={startDrawing}\r\n                        onMouseMove={draw}\r\n                        onMouseUp={stopDrawing}\r\n                    />\r\n                    <button onClick={imageCrop}>Crop</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}